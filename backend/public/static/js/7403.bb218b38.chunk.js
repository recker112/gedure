"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[7403],{67403:function(e,a,r){r.r(a),r.d(a,{default:function(){return T}});var t=r(1413),n=r(29439),i=r(72791),o=r(16871),l=r(68870),s=r(91614),c=r(61889),d=r(20068),u=r(13400),p=r(67394),x=r(41286),b=r(3746),m=r(61134),g=r(10703),h=r(20890),j=r(24518),f=r(39709),Z=r(99507),v=r(52791),y=r(48214),_=r(89190),k=r(53922),C=r(16030),P=r(80184);function w(){var e,a=(0,m.Gc)(),r=a.control,n=a.register,i=a.watch,o=(0,C.v9)((function(e){return e.requestStatus.createPost})),l=o.loading,s=o.progress;return(0,P.jsx)(g.Z,{className:"paper--padding",elevation:0,children:(0,P.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(h.Z,{variant:"h6",align:"center",children:"Crear publicaci\xf3n"})}),(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(Z.cl,{"data-tour":"gdPub__title",control:r,rules:{required:"* Campo requerido",minLength:{value:6,message:"Error: Demaciado corto"},maxLength:{value:100,message:"Error: Demaciado largo"}},name:"title",label:"T\xedtulo",helperText:"Ingrese un t\xedtulo para su publicaci\xf3n",size:"small",variant:"standard",fullWidth:!0,defaultValue:"",disabled:l})}),(0,P.jsx)(c.ZP,{container:!0,item:!0,xs:12,children:(0,P.jsx)(_.Z,{defaultValue:"",disabled:l})}),(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(h.Z,{variant:"h6",className:"text__bold--big text__opacity--semi",children:"Opcionales"})}),(0,P.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,P.jsx)("input",(0,t.Z)((0,t.Z)({},n("portada")),{},{accept:"image/*",style:{display:"none"},id:"button-file-portada",disabled:l,type:"file"})),(0,P.jsx)("label",{htmlFor:"button-file-portada",children:(0,P.jsx)(j.Z,{color:"primary",disabled:l,variant:"contained",component:"span",disableElevation:!0,children:"Cargar portada"})}),null!==(e=i("portada",[]))&&void 0!==e&&e.length?(0,P.jsx)(v.Z,{ml:2,fontSize:"body1.fontSize",component:"span",children:"Portada cargada"}):null]}),(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(y.H,{control:r,disabled:l,defaultValue:!1,name:"only_users",label:"Disponible solo para usuarios"})}),(0,P.jsx)(c.ZP,{item:!0,xs:12,children:(0,P.jsx)(k.Z,{label:"Galer\xeda de im\xe1genes, arrastre o de click para cargar im\xe1genes",defaultValue:[]})}),(0,P.jsx)(c.ZP,{container:!0,justifyContent:"flex-end",item:!0,xs:12,children:(0,P.jsx)(f.Z,{variant:"contained",type:"submit",loading:l,loadingIndicator:l&&s<99?"".concat(s,"%"):null,color:"primary",disableElevation:!0,children:"Crear"})})]})})}var E=r(89736),z=r(81075),S=r(13967),V=r(91526);function q(){var e=(0,S.Z)(),a=[{selector:"",content:function(e){var a=e.goTo;return(0,P.jsxs)("div",{children:[(0,P.jsx)(h.Z,{color:"primary",className:"text__bold--big",variant:"h5",children:"Crear"}),(0,P.jsxs)(h.Z,{variant:"body1",children:["En este apartado podr\xe1 ",(0,P.jsx)("strong",{children:"crear"})," publicaciones en el sistema."]}),(0,P.jsx)(j.Z,{size:"small",color:"primary",onClick:function(){a(6)},children:"Saltar tour"})]})},style:{backgroundColor:e.palette.background.paper}},{selector:'[data-tour="gdPub__preview"]',content:function(){return(0,P.jsxs)(h.Z,{variant:"body1",children:["Este bot\xf3n le permite ",(0,P.jsx)("strong",{children:"alternar"})," entre ",(0,P.jsx)("strong",{children:"visualizar"})," una vista previa y ",(0,P.jsx)("strong",{children:"editar"})," la publicaci\xf3n."]})},style:{backgroundColor:e.palette.background.paper}},{selector:'[data-tour="gdPub__title"]',content:function(){return(0,P.jsxs)(h.Z,{variant:"body1",children:["Este campo le permite ",(0,P.jsx)("strong",{children:"cambiar el t\xedtulo"})," de la publicaci\xf3n."]})},style:{backgroundColor:e.palette.background.paper}},{selector:'[data-tour="gdPub__tooltip"]',content:function(){return(0,P.jsxs)(h.Z,{variant:"body1",children:["Este apartado le permite ",(0,P.jsx)("strong",{children:"utilizar diferentes formatos"})," para poder estilizar los diferentes textos del contenido de la publicaci\xf3n."]})},style:{backgroundColor:e.palette.background.paper}},{selector:'[data-tour="gdPub__content"]',content:function(){return(0,P.jsxs)(h.Z,{variant:"body1",children:["Este campo le permite ",(0,P.jsx)("strong",{children:"cambiar el contenido"})," a utilizar en la publicaci\xf3n."]})},style:{backgroundColor:e.palette.background.paper}},{selector:"",content:function(){return(0,P.jsxs)(h.Z,{variant:"body1",children:["El ",(0,P.jsx)("strong",{children:"resto de los campos son opcionales"}),", con ellos puede realizar diversas acciones para terminar de completar su publicaci\xf3n."]})},style:{backgroundColor:e.palette.background.paper}},{selector:"",content:function(){return(0,P.jsx)(h.Z,{variant:"body1",children:"Con esto finaliza esta gu\xeda, navegue entre otras partes del sistema para encontrar m\xe1s gu\xedas."})},style:{backgroundColor:e.palette.background.paper}}];return(0,P.jsx)(V.Z,{select:"publicaciones_create",steps:a})}var D=r(37766),I={container:{flexGrow:1,paddingBottom:6,marginTop:{xs:"80px",sm:12}}};function T(){document.title="Crear publicaciones - La Candelaria";var e=(0,i.useState)(!1),a=(0,n.Z)(e,2),r=a[0],g=a[1];(0,z.Z)();var h=(0,C.v9)((function(e){return e.requestStatus.createPost.loading})),j=(0,C.I0)(),f=(0,o.s0)(),Z=(0,m.cI)();return(0,P.jsxs)(l.Z,{component:"main",sx:I.container,children:[(0,P.jsx)(m.RV,(0,t.Z)((0,t.Z)({},Z),{},{children:(0,P.jsxs)("form",{onSubmit:Z.handleSubmit((function(e){var a,r=new FormData;r.append("title",e.title),r.append("content",e.markdown),r.append("only_users",e.only_users),e.portada[0]&&r.append("portada",e.portada[0]),(null===(a=e.galery)||void 0===a?void 0:a.length)&&e.galery.forEach((function(e){r.append("galery[]",e)})),j((0,D.q)({submitData:r,reset:Z.reset}))})),autoComplete:"off",children:[(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(l.Z,{mb:3,children:(0,P.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",children:[(0,P.jsx)(d.Z,{title:"Volver",arrow:!0,children:(0,P.jsx)(u.Z,{disabled:h,onClick:function(){window.history.state&&window.history.state.idx>0?f(-1):f("/gedure/publicaciones")},"aria-label":"return",children:(0,P.jsx)(p.Z,{})})}),(0,P.jsx)(d.Z,{title:r?"Editar":"Visualizar",arrow:!0,children:(0,P.jsx)(u.Z,{disabled:h,onClick:Z.handleSubmit((function(){g((function(e){return!e}))})),"aria-label":"preview","data-tour":"gdPub__preview",children:r?(0,P.jsx)(x.Z,{}):(0,P.jsx)(b.Z,{})})})]})}),!r&&(0,P.jsx)(w,{})]}),r&&(0,P.jsx)(E.Z,{})]})})),(0,P.jsx)(q,{})]})}}}]);
//# sourceMappingURL=7403.bb218b38.chunk.js.map
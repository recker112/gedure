{"version":3,"sources":["gedure/boletas_admin/show/Boleta.js","gedure/boletas_admin/show/ReplaceBoleta.js","gedure/boletas_admin/show/PageShowBoletas.js","components/LoadingComponent.js","actions/updateForms.js","actions/updateDialogs.js","components/AnimationDialog.js","components/DialogConfirmation.js","components/funciones/converterCursoCode.js","components/funciones/downloadFiles.js"],"names":["Boleta","props","max","id","lapso","fecha_humano","fecha_humano_modify","curso","created_at","updated_at","handleRefresh","permissions","useSelector","state","userData","dispatch","useDispatch","fetchData","useFetch","listColors","useState","length","Math","floor","random","loading","setLoading","onDownload","a","prepare","url","type","messageToFinish","data","responseType","response","downloadFiles","seccion","Grid","item","xs","sm","md","Paper","elevation","className","Box","display","mr","component","style","fontSize","color","fontWeight","converterCursoCode","container","justify","alignItems","Tooltip","title","arrow","IconButton","onClick","updateDialogs","disabled","administrar","boletas_destroy","boletas_edit","LoadingComponent","ReplaceBoleta","name","progress","setProgress","open","dialogs","replaceBoleta","useForm","mode","shouldUnregister","handleSubmit","register","watch","errors","formState","handleClose","onUploadProgress","useCallback","progressEvent","percentCompleted","round","loaded","total","onSubmit","submitData","formData","FormData","append","boleta","otherData","headers","Dialog","onClose","TransitionComponent","AnimationDialog","DialogTitle","DialogContent","spacing","DialogContentText","required","defaultValue","accept","htmlFor","Button","variant","Boolean","ml","Typography","message","DialogActions","progressLoading","useStyles","makeStyles","theme","containerMain","flexGrow","paddingBottom","breakpoints","up","marginTop","PageShowBoletas","document","useParams","setName","forms","showBoletas","dataDelete","deleteConfirmation","classes","history","useHistory","getBoletas","updateForms","boletas","user","useEffect","onConfirm","message404","Container","mb","push","aria-label","align","CircularProgress","Fragment","map","key","DialogConfirmation","callback","progressLabel","backDrop","children","SelectProgressBar","position","value","top","left","bottom","right","justifyContent","size","zIndex","form","payload","dialog","React","forwardRef","ref","direction","aria-labelledby","aria-describedby","conveterCursorCode","code","grado","substring","number","blob","fileName","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click"],"mappings":"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","file":"static/js/40.d728bd0a.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nimport {\n\tBox,\n\tGrid,\n\tPaper,\n\tIconButton,\n\tTooltip,\n} from '@material-ui/core';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport {\n\tFileReplaceOutline as FileReplace,\n\tFilePdf as FilePdfIcon,\n} from 'mdi-material-ui';\n\nimport useFetch from '../../../hooks/useFetch';\n\n// Components\nimport converterCursoCode from '../../../components/funciones/converterCursoCode';\nimport downloadFiles from '../../../components/funciones/downloadFiles';\nimport LoadingComponent from '../../../components/LoadingComponent';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nfunction getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max));\n}\n\nexport default function Boleta(props) {\n\tconst { \n\t\tid, \n\t\tlapso, \n\t\tfecha_humano, \n\t\tfecha_humano_modify,\n\t\tcurso,\n\t\tcreated_at,\n\t\tupdated_at,\n\t\thandleRefresh,\n\t} = props;\n\t\n\tconst { permissions } = useSelector((state) => ({\n\t\tpermissions: state.userData.permissions,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst { fetchData } = useFetch();\n\t\n\tconst listColors = [\n\t\t'#2f80ED',\n\t\t'#0F3F6A',\n\t\t'#219653',\n\t\t'#f2994A',\n\t\t'#9B51E0',\n\t\t'#EB5757',\n\t\t'#333333',\n\t];\n\t\n\tconst [random] = useState(getRandomInt(listColors.length -1));\n\tconst [loading, setLoading] = useState(false);\n\t\n\tconst onDownload = async () => {\n\t\tsetLoading(true);\n\t\tconst prepare = {\n\t\t\turl: `v1/download/boleta/${id}`,\n\t\t\ttype: 'get',\n\t\t\tmessageToFinish: false,\n\t\t\tdata: {\n\t\t\t\tresponseType: 'blob',\n\t\t\t}\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\n\t\tif (response) {\n\t\t\tdownloadFiles(response, `Boleta_${curso.curso}-${curso.seccion}_${lapso}_lapso.pdf`);\n\t\t\tsetLoading(false);\n\t\t}else {\n\t\t\thandleRefresh();\n\t\t}\n\t}\n\t\n\tconst onReplace = () => {\n\t\tconst data = {\n\t\t\tid,\n\t\t\tlapso,\n\t\t\tcurso: converterCursoCode(curso.curso),\n\t\t\tseccion: curso.seccion,\n\t\t}\n\t\tdispatch(updateDialogs('replaceBoleta', true, false, data));\n\t}\n\t\n\tconst onDelete = () => {\n\t\tconst data = {\n\t\t\tid,\n\t\t\tlapso,\n\t\t\tcurso: converterCursoCode(curso.curso),\n\t\t\tseccion: curso.seccion,\n\t\t}\n\t\tdispatch(updateDialogs('deleteConfirmation', true, false, data));\n\t}\n\t\n\treturn(\n\t\t<Grid item xs={12} sm={6} md={4}>\n\t\t\t<Paper elevation={0} className='paper--padding'>\n\t\t\t\t<Box display='flex'>\n\t\t\t\t\t<Box mr={1} component='span'>\n\t\t\t\t\t\t<FilePdfIcon style={{fontSize: 60, color: listColors[random]}}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box \n\t\t\t\t\t\tcomponent='span' \n\t\t\t\t\t\tstyle={{color: listColors[random]}} \n\t\t\t\t\t\tfontSize='h6.fontSize' \n\t\t\t\t\t\tfontWeight={600}\n\t\t\t\t\t>\n\t\t\t\t\t\t{converterCursoCode(curso.curso)} {curso.seccion} - {lapso}° Lapso\n\t\t\t\t\t\t<Box \n\t\t\t\t\t\t\tfontSize='body1.fontSize'\n\t\t\t\t\t\t\tcolor='text.disabled'\n\t\t\t\t\t\t\tfontWeight={600}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(created_at === updated_at) ? `Subido ${fecha_humano}` : `Modificado ${fecha_humano_modify}`}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Grid container justify='flex-end' alignItems='center'>\n\t\t\t\t\t<Tooltip title=\"Eliminar\" arrow>\n\t\t\t\t\t\t<IconButton \n\t\t\t\t\t\t\tonClick={onDelete} \n\t\t\t\t\t\t\tcomponent='span'\n\t\t\t\t\t\t\tdisabled={!permissions?.administrar?.boletas_destroy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"Reemplazar\" arrow>\n\t\t\t\t\t\t<IconButton \n\t\t\t\t\t\t\tonClick={onReplace} \n\t\t\t\t\t\t\tcomponent='span' \n\t\t\t\t\t\t\tdisabled={!permissions?.administrar?.boletas_edit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FileReplace />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<LoadingComponent loading={loading}>\n\t\t\t\t\t\t<Tooltip title=\"Descargar\" arrow>\n\t\t\t\t\t\t\t<IconButton onClick={onDownload} component='span'>\n\t\t\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</LoadingComponent>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</Grid>\n\t);\n}","import React, { useState, useCallback } from 'react';\n\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tGrid,\n\tButton,\n\tBox,\n\tTypography,\n} from '@material-ui/core';\n\nimport useFetch from '../../../hooks/useFetch';\n\nimport { useForm } from \"react-hook-form\";\n\n// Components\nimport AnimationDialog from '../../../components/AnimationDialog';\nimport LoadingComponent from '../../../components/LoadingComponent';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nexport default function ReplaceBoleta({ handleRefresh, name }) {\n\tconst [progress, setProgress] = useState(0);\n\tconst { open, loading, data } = useSelector((state) => ({\n\t\topen: state.dialogs.replaceBoleta.open,\n\t\tloading: state.dialogs.replaceBoleta.loading,\n\t\tdata: state.dialogs.replaceBoleta.data,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst { handleSubmit, register, watch, formState: { errors } } = useForm({\n\t\tmode: 'onTouched',\n\t\tshouldUnregister: true,\n\t});\n\tconst { fetchData } = useFetch();\n\t\n\tconst handleClose = () => {\n\t\tif (!loading) {\n\t\t\tdispatch(updateDialogs('replaceBoleta', false, false));\n\t\t}\n\t}\n\t\n\tconst onUploadProgress = useCallback((progressEvent) => {\n\t\tlet percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n\t\tsetProgress(percentCompleted);\n\t\t// eslint-disable-next-line\n\t}, []);\n\t\n\tconst onSubmit = async submitData => {\n\t\tdispatch(updateDialogs('replaceBoleta', true, true));\n\t\t\n\t\tconst formData = new FormData();\n\t\tformData.append('boleta', submitData.boleta[0]);\n\t\tformData.append('_method', 'PUT');\n\t\t\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${data.id}`,\n\t\t\ttype: 'post',\n\t\t\tdata: formData,\n\t\t\totherData: {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\n\t\t\t\t},\n\t\t\t\tonUploadProgress: onUploadProgress,\n\t\t\t}\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\t\t\n\t\tif (response) {\n\t\t\tdispatch(updateDialogs('replaceBoleta', false, false));\n\t\t\thandleRefresh();\n\t\t}else {\n\t\t\tdispatch(updateDialogs('replaceBoleta', true, false));\n\t\t}\n\t\t\n\t\tsetProgress(0);\n\t}\n\t\n\treturn (\n\t\t<Dialog open={open} onClose={handleClose} TransitionComponent={AnimationDialog}>\n\t\t\t<DialogTitle>¿Seguro?</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<DialogContentText>Está a punto de reemplazar la boleta <strong>{data.curso} {data.seccion} {data.lapso}° Lapso</strong> de <strong>{name}</strong>. Tenga en cuenta que al reemplazar la boleta se borrará la anterior.</DialogContentText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container alignItems='center' item xs={12}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid='boleta-upload-file'\n\t\t\t\t\t\t\t{...register('boleta',{\n\t\t\t\t\t\t\t\trequired: '* Debe subir un archivo',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdefaultValue={null}\n\t\t\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\t\t\taccept=\"application/pdf\"\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor=\"boleta-upload-file\">\n\t\t\t\t\t\t\t<Button variant='contained' color='secondary' component='span'>Cargar archivo</Button>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t{Boolean(errors.boleta) && (\n\t\t\t\t\t\t\t<Box ml={2} color='#f44336'>\n\t\t\t\t\t\t\t\t<Typography >{errors.boleta.message}</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{((watch('boleta')?.length || []).length !== 0) && (\n\t\t\t\t\t\t\t<Box ml={2}>\n\t\t\t\t\t\t\t\t<Typography>Archivo cargado</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} disabled={loading}>Cancelar</Button>\n\t\t\t\t<LoadingComponent \n\t\t\t\t\tloading={loading}\n\t\t\t\t\tprogressLoading \n\t\t\t\t\tprogress={progress}\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t>\n\t\t\t\t\t<Button onClick={handleSubmit(onSubmit)}>Cambiar</Button>\n\t\t\t\t</LoadingComponent>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}","import React, { useEffect, useState } from 'react';\n\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport {\n\tContainer,\n\tBox,\n\tCircularProgress,\n\tGrid,\n\tTooltip,\n\tIconButton,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport useFetch from '../../../hooks/useFetch';\n\n// Components\nimport Boleta from './Boleta';\nimport DialogConfirmation from '../../../components/DialogConfirmation';\nimport ReplaceBoleta from './ReplaceBoleta';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateForms from '../../../actions/updateForms';\nimport updateDialogs from '../../../actions/updateDialogs';\n\nconst useStyles = makeStyles((theme) => ({\n\tcontainerMain: {\n\t\tflexGrow: 1,\n\t\tpaddingBottom: theme.spacing(5),\n\t\t[theme.breakpoints.up('xs')]: {\n\t\t\tmarginTop: '80px',\n\t\t},\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\tmarginTop: theme.spacing(12),\n\t\t},\n\t},\n}));\n\nexport default function PageShowBoletas() {\n\tdocument.title = 'La Candelaria - Boletas';\n\tconst { id } = useParams();\n\tconst [name, setName] = useState('');\n\t\n\tconst { loading, data, dataDelete } = useSelector((state) => ({\n\t\tloading: state.forms.showBoletas.loading,\n\t\tdata: state.forms.showBoletas.data,\n\t\tdataDelete: state.dialogs.deleteConfirmation.data,\n\t}));\n\tconst dispatch = useDispatch();\n\t\n\tconst classes = useStyles();\n\t\n\tconst history = useHistory();\n\t\n\tconst { fetchData } = useFetch();\n\t\n\tconst getBoletas = async () => {\n\t\tdispatch(updateForms('showBoletas', true));\n\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${id}`,\n\t\t\ttype: 'get',\n\t\t\tmessageToFinish: false,\n\t\t};\n\n\t\tconst response = await fetchData(prepare);\n\n\t\tif (response) {\n\t\t\tdispatch(updateForms('showBoletas', false, response.boletas));\n\t\t\tsetName(response.user.name);\n\t\t}else {\n\t\t\tdispatch(updateForms('showBoletas', false, []));\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tgetBoletas();\n\t\t\n\t\treturn () => {\n\t\t\tdispatch(updateForms('showBoletas', false, []));\n\t\t}\n\t\t\n\t\t// eslint-disable-next-line\n\t},[]);\n\t\n\tconst onConfirm = async handleClose => {\n\t\tconst prepare = {\n\t\t\turl: `v1/boleta/${dataDelete.id}`,\n\t\t\ttype: 'delete',\n\t\t\tmessage404: 'La boleta ya no existe',\n\t\t};\n\t\t\n\t\tconst response = await fetchData(prepare);\n\n\t\tdispatch(updateDialogs('deleteConfirmation', false, false));\n\t\t\n\t\tif (response) {\n\t\t\tgetBoletas();\n\t\t}\n\t\t\n\t\thandleClose();\n\t\tgetBoletas();\n\t}\n\t\n\tconst handleReturn = () => {\n\t\thistory.push('/gedure/boletas');\n\t}\n\t\n\treturn (\n\t\t<main className={classes.containerMain}>\n\t\t\t<Container>\n\t\t\t\t<Box mb={3}>\n\t\t\t\t\t<Tooltip title='Volver' arrow>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tdisabled={loading} \n\t\t\t\t\t\t\t\tonClick={handleReturn} \n\t\t\t\t\t\t\t\taria-label=\"return\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t\t{loading && (\n\t\t\t\t\t<Box align='center'>\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{(!loading && data.length) ? (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Box fontSize='h4.fontSize' mb={3} className='text__bold--big'>\n\t\t\t\t\t\t\tBoletas subidas de {name}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t{data.map((props, key) => (<Boleta key={key} {...props} handleRefresh={getBoletas} />))}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t\t\t{(!loading && !data.length) && (\n\t\t\t\t\t<Box align='center' fontSize='body1.fontSize'>\n\t\t\t\t\t\tNo hay boletas cargadas para este estudiante.\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t<DialogConfirmation callback={onConfirm}>\n\t\t\t\t\tEstá a punto de eliminar la boleta <strong>{dataDelete.curso} {dataDelete.seccion} {dataDelete.lapso}° Lapso</strong> de <strong>{name}</strong>. Tenga en cuenta que esta acción no se puede deshacer.\n\t\t\t\t</DialogConfirmation>\n\t\t\t\t<ReplaceBoleta handleRefresh={getBoletas} name={name} />\n\t\t\t</Container>\n\t\t</main>\n\t);\n}","import React from 'react';\n\nimport { CircularProgress, Backdrop, Grid, Box, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n\tprogressLabel: {\n\t\tmarginTop: 5,\n\t},\n}));\n\nfunction LoadingComponent(props) {\n\tconst { loading, backDrop = false, children } = props;\n\n\tconst SelectProgressBar = (props) => {\n\t\tconst { color = 'primary', progressLabel, progressLoading, progress } = props;\n\t\tconst classes = useStyles();\n\n\t\tif (progressLoading && progress <= 99) {\n\t\t\treturn (\n\t\t\t\t<Box>\n\t\t\t\t\t<Box position=\"relative\" display=\"inline-flex\">\n\t\t\t\t\t\t<CircularProgress color={color} variant=\"static\" value={progress} />\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\ttop={0}\n\t\t\t\t\t\t\tleft={0}\n\t\t\t\t\t\t\tbottom={0}\n\t\t\t\t\t\t\tright={0}\n\t\t\t\t\t\t\tposition=\"absolute\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{progress}%\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{progressLabel && (\n\t\t\t\t\t\t<Grid container justify='center'>\n\t\t\t\t\t\t\t<span className={classes.progressLabel}>{progressLabel}</span>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t);\n\t\t}\n\n\t\treturn <CircularProgress color={color} size={props.size} />;\n\t};\n\n\tif (loading && !backDrop) {\n\t\treturn <SelectProgressBar {...props} />;\n\t}\n\n\tif (loading && backDrop) {\n\t\treturn (\n\t\t\t<Backdrop open={true} style={{ zIndex: 200 }}>\n\t\t\t\t<SelectProgressBar {...props} />\n\t\t\t</Backdrop>\n\t\t);\n\t}\n\n\treturn children;\n}\n\nexport default LoadingComponent;","const updateForms = (form, loading, data = null) => {\n  return {\n    type: `UPDATE_FORM_DATA`,\n    payload: {form, loading, data}\n  }\n}\n\nexport default updateForms;","const updateDialogs = (dialog, open, loading, data = null) => {\n  return {\n    type: `UPDATE_DIALOGS_DATA`,\n    payload: {dialog, open, loading, data}\n  }\n}\n\nexport default updateDialogs;","import React from 'react';\n\n//Material-UI\nimport { Slide } from '@material-ui/core';\n\nconst AnimationDialog = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default AnimationDialog;","import React from 'react';\n\nimport {\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tButton,\n} from '@material-ui/core';\n\nimport AnimationDialog from './AnimationDialog';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport updateDialogs from '../actions/updateDialogs';\n\nexport default function DialogConfirmation(props) {\n\tconst { callback, dialog = 'deleteConfirmation', children } = props;\n\tconst { open, loading } = useSelector((state) => ({\n\t\topen: state.dialogs[dialog].open,\n\t\tloading: state.dialogs[dialog].loading,\n\t}));\n\tconst dispatch = useDispatch();\n\n\tconst handleClose = () => {\n\t\tdispatch(updateDialogs(dialog, false, true));\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tTransitionComponent={AnimationDialog}\n\t\t\taria-labelledby=\"confirm-dialog-title\"\n\t\t\taria-describedby=\"confirm-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog-title\">¿Seguro?</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id=\"confirm-dialog-description\">\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button disabled={loading} onClick={handleClose}>\n\t\t\t\t\tCancelar\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tdispatch(updateDialogs(dialog, true, true));\n\t\t\t\t\t\tcallback(handleClose);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tConfirmar\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}","export default function conveterCursorCode(code) {\n\tif (typeof code === 'string') {\n\t\tconst grado = code.substring(1,2);\n\t\tconst number = code.substring(0,1);\n\t\t\n\t\tif (grado === 'G') {\n\t\t\treturn `${number} grado`;\n\t\t}else {\n\t\t\treturn `${number} año`;\n\t\t}\n\t}\n}","const downloadFiles = (blob, fileName = 'archivo') => {\n\t//Url del archivo\n\tconst url = window.URL.createObjectURL(new Blob([blob]));\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Atributos,\n\tlink.setAttribute('download', fileName);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport const downloadFilesNotResponse = (url) => {\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Obtener nombre del archivo\n\tlet fileName = url.split('/');\n\tfileName = fileName[fileName.length - 1];\n\t//Atributos,\n\tlink.setAttribute('download', `${fileName}`);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport default downloadFiles;"],"sourceRoot":""}
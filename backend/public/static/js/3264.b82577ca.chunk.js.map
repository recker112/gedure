{"version":3,"file":"static/js/3264.b82577ca.chunk.js","mappings":"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","sources":["pages/gedure/cuenta/perfil/CPerfil.js","pages/gedure/usuarios/ver/perfil/PAvatar.js"],"sourcesContent":["import React from 'react';\n\n// Form\nimport { useForm } from 'react-hook-form';\n\n// Components\nimport { PAvatarForm } from '../../usuarios/ver/perfil/PAvatar';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateAvatar } from '../../../../store/slices/requestStatus/async_trunk/users/updateAvatar';\nimport { updateUserData } from '../../../../store/slices/auth';\nimport { Box } from '@mui/material';\n\nexport default function CPerfil() {\n  const { user, loadingUpload, loadingDelete, progress } = useSelector(state => ({\n    user: state.auth.user,\n    loadingUpload: state.requestStatus.personalAvatar.loadingUpload,\n    loadingDelete: state.requestStatus.personalAvatar.loadingDelete,\n    progress: state.requestStatus.personalAvatar.progress,\n  }));\n  const dispatch = useDispatch();\n  \n  const { handleSubmit, register, resetField } = useForm();\n\n  const handleUpdate = ({ user }) => {\n    dispatch(updateUserData({ user }));\n  }\n\n  const onSubmit = async submitData => {\n    const formData = new FormData();\n\n    if (submitData.avatar === 'delete') {\n      formData.append('delete_avatar', true);\n    }else {\n      formData.append('avatar', submitData.avatar[0]);\n    }\n    formData.append('_method', 'PUT');\n\n    await dispatch(updateAvatar({\n      data: formData, \n      type: submitData.avatar!=='delete' ? 1 : 2, \n      personal: true,\n      handleUpdate,\n    }));\n\n    resetField('avatar');\n  }\n\n  return (\n    <Box mb={4}>\n      <PAvatarForm\n        user={user}\n        handleSubmit={handleSubmit(onSubmit)}\n        register={register}\n        progress={progress}\n        loadingUpload={loadingUpload}\n        loadingDelete={loadingDelete}\n      />\n    </Box>\n  )\n}\n","import React from 'react';\n\n// Router\nimport { useParams } from 'react-router-dom';\n\n// MUI\nimport { Avatar, Box, Divider, Grid, Typography } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\n\n// Form\nimport { useForm } from 'react-hook-form';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateAvatar } from '../../../../../store/slices/requestStatus/async_trunk/users/updateAvatar';\n\nconst classes = {\n  avatar: tema => ({\n\t\tbackgroundColor: tema.palette.secondary.main,\n\t\tcolor: tema.palette.secondary.contrastText,\n\t\theight: tema.spacing(10),\n\t\twidth: tema.spacing(10),\n\t})\n}\n\nexport function PAvatarForm({ user, loadingUpload, loadingDelete, progress, handleSubmit, register }) {\n  const { onChange, onBlur, name, ref } = register('avatar'); \n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='h6' component='span' className='text__bold--semi'>\n\t\t\t\t\tAvatar del usuario\n\t\t\t\t</Typography>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<Divider />\n\t\t\t\t</Box>\n      </Grid>\n      <Grid container alignItems='center' spacing={2} item xs={12}>\n        <Grid item>\n          <Avatar\n\t\t\t\t\t\talt='Avatar User' \n\t\t\t\t\t\tsrc={user.avatar} \n\t\t\t\t\t\tsx={classes.avatar}\n\t\t\t\t\t>\n\t\t\t\t\t\t{user.name.substring(0, 1).toUpperCase()}\n\t\t\t\t\t</Avatar>\n        </Grid>\n        <Grid item>\n\t\t\t\t\t<input \n\t\t\t\t\t\tid='update_avatar_user' \n\t\t\t\t\t\ttype='file' \n\t\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\t\taccept=\"image/*\"\n            disabled={loadingDelete}\n            onChange={e => {\n              onChange(e);\n              handleSubmit();\n            }}\n            onBlur={onBlur}\n            name={name}\n            ref={ref}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor='update_avatar_user'>\n            <LoadingButton \n              variant='contained' \n              loading={loadingUpload}\n              disabled={loadingDelete}\n              loadingIndicator={loadingUpload && progress < 99 ? `${progress}%` : null} \n              color='primary'\n              component='span' \n              disableElevation\n            >\n              Cambiar avatar\n            </LoadingButton>\n\t\t\t\t\t</label>\n\t\t\t\t</Grid>\n        <Grid item>\n          <LoadingButton \n            variant='outlined' \n            loading={loadingDelete}\n            disabled={loadingUpload}\n            color='inherit'\n            onClick={() => {\n              onChange({target:{name:'avatar',value:'delete'}});\n              handleSubmit();\n            }}\n          >\n            Quitar avatar\n          </LoadingButton>\n\t\t\t\t</Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default function PAvatar() {\n  const { id } = useParams();\n  const { userSelected, loadingUpload, loadingDelete, progress } = useSelector(state => ({\n    userSelected: state.requestStatus.userShow.userSelected,\n    loadingUpload: state.requestStatus.personalAvatar.loadingUpload,\n    loadingDelete: state.requestStatus.personalAvatar.loadingDelete,\n    progress: state.requestStatus.personalAvatar.progress,\n  }));\n  const dispatch = useDispatch();\n\n  const { handleSubmit, register, resetField } = useForm();\n\n  const onSubmit = async submitData => {\n    const formData = new FormData();\n\n    if (submitData.avatar === 'delete') {\n      formData.append('delete_avatar', true);\n    }else {\n      formData.append('avatar', submitData.avatar[0]);\n    }\n    formData.append('_method', 'PUT');\n\n    await dispatch(updateAvatar({data: formData, id, type: submitData.avatar!=='delete' ? 1 : 2}));\n\n    resetField('avatar');\n  }\n\n  return (\n    <Box mb={4}>\n      <PAvatarForm\n        user={userSelected}\n        handleSubmit={handleSubmit(onSubmit)}\n        register={register}\n        progress={progress}\n        loadingUpload={loadingUpload}\n        loadingDelete={loadingDelete}\n      />\n    </Box>\n  )\n}"],"names":["CPerfil","useSelector","state","user","auth","loadingUpload","requestStatus","personalAvatar","loadingDelete","progress","dispatch","useDispatch","useForm","handleSubmit","register","resetField","handleUpdate","updateUserData","onSubmit","submitData","formData","FormData","avatar","append","updateAvatar","data","type","personal","mb","PAvatarForm","classes","tema","backgroundColor","palette","secondary","main","color","contrastText","height","spacing","width","onChange","onBlur","name","ref","container","item","xs","variant","component","className","mt","alignItems","alt","src","sx","substring","toUpperCase","id","style","display","accept","disabled","e","htmlFor","loading","loadingIndicator","disableElevation","onClick","target","value","PAvatar","useParams","userSelected","userShow"],"sourceRoot":""}
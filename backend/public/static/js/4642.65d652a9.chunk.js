"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[4642],{76429:function(e,n,r){var t=r(1413),a=r(72791),i=r(55931),s=r(80184),o=a.forwardRef((function(e,n){return(0,s.jsx)(i.Z,(0,t.Z)({direction:"up",ref:n},e))}));n.Z=o},39481:function(e,n,r){r.d(n,{Z:function(){return h}});r(72791);var t=r(5574),a=r(65661),i=r(39157),s=r(51691),o=r(97123),l=r(24518),d=r(76429),c=r(16030),u=r(39709),p=r(80184);function h(e){var n=e.rdx1,r=e.rdx2,h=e.close,x=e.request,g=e.children,Z=(0,c.v9)((function(e){return e[n][r]})),f=Z.open,m=Z.loading,j=Z.data,v=(0,c.I0)();return(0,p.jsxs)(t.Z,{open:f,TransitionComponent:d.Z,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,p.jsx)(a.Z,{children:"\xbfEst\xe1 seguro?"}),(0,p.jsx)(i.Z,{children:(0,p.jsx)(s.Z,{id:"confirm-dialog-description",children:g(j)})}),(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(l.Z,{disabled:m,onClick:function(){v(h)},color:"inherit",children:"Cancelar"}),(0,p.jsx)(u.Z,{onClick:function(){v(x(j))},loading:m,color:"inherit",children:"Confirmar"})]})]})}},70825:function(e,n,r){r.d(n,{Z:function(){return A}});var t=r(1413),a=r(93433),i=r(72791),s=r(61889),o=r(10703),l=r(52739),d=r(13239),c=r(34663),u=r(20890),p=r(20068),h=r(13400),x=r(39281),g=r(68870),Z=r(79836),f=r(56890),m=r(35855),j=r(53994),v=r(53382),b=r(68582),C=r(12674),P=r(23786),k=r(12065),S=r(12715),w=r(2156),y=r(98333),z=r(10111),F=r(78243),R=r(43950),I=r(71358),H=r(29439),D=r(48550),q=r(63466),E=r(5403),U=r(5130),_=r(80184);function B(e){var n=e.state,r=e.setGlobalFilter,t=e.gotoPage,a=(0,i.useState)(n.globalFilter),s=(0,H.Z)(a,2),o=s[0],l=s[1],d=(0,I.useAsyncDebounce)((function(e){r(e||void 0),t(0)}),500);return(0,_.jsx)(D.Z,{"data-tour":"gdTable__search",size:"small",value:o||"",placeholder:"Buscar...",variant:"standard",onChange:function(e){d(e.target.value),l(e.target.value)},sx:{mr:1},InputProps:{startAdornment:(0,_.jsx)(q.Z,{position:"start",children:(0,_.jsx)(E.Z,{})}),endAdornment:(0,_.jsx)(h.Z,{disabled:!o,onClick:function(){l(""),r(void 0),t(0)},children:(0,_.jsx)(U.Z,{})})}})}var T=r(45987),M=r(94454),O=["indeterminate"],G=i.forwardRef((function(e,n){var r=e.indeterminate,a=(0,T.Z)(e,O),s=i.useRef(),o=n||s;return i.useEffect((function(){o.current.indeterminate=r}),[o,r]),(0,_.jsx)(M.Z,(0,t.Z)({type:"checkbox",ref:o,indeterminate:r,color:r?"default":"primary"},a))}));function A(e){var n=e.data,r=e.columns,H=e.pageSizeData,D=e.pageCountData,q=e.loading,E=e.handleGlobalFilter,U=e.handleChange,T=e.filter,M=e.massiveOptions,O=e.title,A=e.refresh,N=(0,I.useTable)({columns:r,data:n,initialState:{hiddenColumns:["massiveSelection"],pageSize:H,pageIndex:0},manualPagination:!0,pageCount:D},I.useGlobalFilter,I.usePagination,I.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"massiveSelection",Header:function(e){var n=e.getToggleAllRowsSelectedProps;return(0,_.jsx)(G,(0,t.Z)({},n()))},Cell:function(e){var n=e.row;return(0,_.jsx)(G,(0,t.Z)({},n.getToggleRowSelectedProps()))}}].concat((0,a.Z)(e))}))})),L=N.getTableProps,W=N.getTableBodyProps,V=N.headerGroups,J=N.page,K=N.prepareRow,Q=N.state,X=N.selectedFlatRows,Y=N.allColumns,$=N.canPreviousPage,ee=N.canNextPage,ne=N.nextPage,re=N.previousPage,te=N.setPageSize,ae=N.pageOptions,ie=N.gotoPage,se=N.pageCount,oe=Q.pageIndex,le=Q.pageSize;return(0,i.useEffect)((function(){U({pageIndex:oe,pageSize:le})}),[oe,le]),(0,_.jsx)(s.ZP,{container:!0,spacing:2,children:(0,_.jsx)(s.ZP,{item:!0,xs:12,children:(0,_.jsxs)(o.Z,{sx:{position:"relative"},children:[(0,_.jsx)(l.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.appBar-1},position:"absolute"},open:q,children:(0,_.jsx)(d.Z,{})}),(0,_.jsxs)(c.Z,{sx:(0,t.Z)({},X.length>0&&{bgcolor:function(e){return(0,k.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[X.length>0?(0,_.jsxs)(u.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",noWrap:!0,children:[X.length," seleccionada(s)"]}):(0,_.jsx)(u.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"registros",component:"div",noWrap:!0,children:O}),(0,_.jsx)(B,{state:Q,setGlobalFilter:E,gotoPage:ie}),X.length>0?M(X.map((function(e){return e.original}))):(0,_.jsxs)(_.Fragment,{children:[M&&(0,_.jsx)(p.Z,{title:"Opciones massivas",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:function(){Y.map((function(e){return("massiveSelection"===e.id||"options"===e.id)&&e.toggleHidden(),null}))},"data-tour":"gdTable__massive",disabled:X.length>0,children:(0,_.jsx)(F.Z,{})})}),(0,_.jsx)(p.Z,{title:"Recargar",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:A,"data-tour":"gdTable__refresh",children:(0,_.jsx)(R.Z,{})})}),T]})]}),(0,_.jsxs)(x.Z,{children:[(0,_.jsx)(g.Z,{overflow:"auto",minWidth:352,children:(0,_.jsxs)(Z.Z,(0,t.Z)((0,t.Z)({sx:{minWidth:650},"aria-label":"React Table"},L()),{},{children:[(0,_.jsx)(f.Z,{sx:{th:{border:0}},children:V.map((function(e){return(0,_.jsx)(m.Z,(0,t.Z)((0,t.Z)({sx:{td:{border:0}}},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return"massiveSelection"===e.id?(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({padding:"checkbox"},e.getHeaderProps()),{},{children:e.render("Header")})):"Opciones"===e.Header?(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({align:"right"},e.getHeaderProps()),{},{children:e.render("Header")})):(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),(0,_.jsxs)(v.Z,(0,t.Z)((0,t.Z)({},W()),{},{children:[J.map((function(e){return K(e),(0,_.jsx)(m.Z,(0,t.Z)((0,t.Z)({sx:{height:"73px"}},e.getRowProps()),{},{children:e.cells.map((function(e){return"massiveSelection"===e.column.id?(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({padding:"checkbox"},e.getCellProps()),{},{children:e.render("Cell")})):"Opciones"===e.column.Header?(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({align:"right"},e.getCellProps()),{},{children:e.render("Cell")})):(0,_.jsx)(j.Z,(0,t.Z)((0,t.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))})),0===J.length&&(0,_.jsx)(m.Z,{children:(0,_.jsx)(j.Z,{colSpan:"100%",children:(0,_.jsx)(u.Z,{textAlign:"center",children:"No se han encontrado resultados"})})})]}))]}))}),(0,_.jsx)(g.Z,{overflow:"auto",minWidth:352,children:(0,_.jsx)(Z.Z,{children:(0,_.jsx)(b.Z,{children:(0,_.jsx)(m.Z,{children:(0,_.jsx)(j.Z,{colSpan:"100%",sx:{border:0},children:(0,_.jsxs)(s.ZP,{container:!0,justifyContent:"flex-end",alignItems:"center",spacing:1,item:!0,xs:12,children:[(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsx)(C.Z,{labelId:"page-size-table-label",id:"page-size-table",value:le,label:"Filas",variant:"standard",onChange:function(e){te(Number(e.target.value))},children:[5,10,20,30,40,50].map((function(e){return(0,_.jsxs)(P.Z,{value:e,children:[e," Filas"]},e)}))})}),(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsx)(p.Z,{title:"Primera p\xe1gina",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:function(){return ie(0)},disabled:!$,children:(0,_.jsx)(S.Z,{})})})}),(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsx)(p.Z,{title:"Anterior",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:re,disabled:!$,children:(0,_.jsx)(w.Z,{})})})}),(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsxs)(g.Z,{component:"span",fontSize:"body2.fontSize",color:"text.secondary",children:[oe+1," de ",ae.length]})}),(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsx)(p.Z,{title:"Siguiente",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:ne,disabled:!ee,children:(0,_.jsx)(y.Z,{})})})}),(0,_.jsx)(s.ZP,{item:!0,children:(0,_.jsx)(p.Z,{title:"\xdaltima p\xe1gina",arrow:!0,children:(0,_.jsx)(h.Z,{component:"span",onClick:function(){return ie(se-1)},disabled:!ee,children:(0,_.jsx)(z.Z,{})})})})]})})})})})})]})]})})})}},71706:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});var t=r(72791),a=r(68870),i=r(37762),s=r(1413),o=r(20068),l=r(13400),d=r(60383),c=r(97125),u=r(70825),p=r(16030),h=r(15728),x=r(29319),g=r(6728),Z=r(80184);function f(){var e=(0,p.v9)((function(e){return{dataR:e.tables.usersDisabled.tableData.data,loading:e.tables.usersDisabled.tableData.loading,pageSize:e.tables.usersDisabled.tableData.pageSize,pageCount:e.tables.usersDisabled.tableData.pageCount,gedure:e.auth.permissions.gedure}})),n=e.dataR,r=e.loading,a=e.pageSize,f=e.pageCount,m=e.gedure,j=m.users_disabled_restore,v=m.users_disabled_destroy,b=(0,p.I0)(),C=(0,t.useMemo)((function(){return[{Header:"Usuario",accessor:"code",Cell:function(e){var n=e.cell.row.original,r=n.privilegio,t=n.username;return"".concat(r).concat(t)}},{Header:"Nombre",accessor:"name"},{Header:"Correo",accessor:"email"},{id:"options",Header:"Opciones",accessor:"options",Cell:function(e){var n=e.cell.row.original,r=n.id,t=n.username,a=n.privilegio;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{title:"Restaurar",arrow:!0,children:(0,Z.jsx)(l.Z,{component:"span",disabled:!j,onClick:function(){b((0,g.CI)({open:!0,data:{id:r,privilegio:a,username:t},select:"restoreUser"}))},children:(0,Z.jsx)(c.Z,{})})}),(0,Z.jsx)(o.Z,{title:"Eliminar",arrow:!0,children:(0,Z.jsx)(l.Z,{component:"span",disabled:!v,onClick:function(){b((0,g.CI)({open:!0,data:{id:r,privilegio:a,username:t},select:"destroyUser"}))},children:(0,Z.jsx)(d.Z,{})})})]})}}]}),[]),P=(0,t.useMemo)((function(){return n}),[n]);(0,t.useEffect)((function(){var e=null;return r&&(e=b((0,x.s)())),function(){r&&e.abort()}}),[r]),(0,t.useEffect)((function(){return function(){b((0,h.AF)({select:"usersDisabled"}))}}),[]);return(0,Z.jsx)(u.Z,{title:"Usuarios desactivados",data:P,columns:C,pageCountData:f,pageSizeData:a,loading:r,handleGlobalFilter:function(e){b((0,h.qP)({search:e||"",select:"usersDisabled"}))},handleChange:function(e){b((0,h.ai)((0,s.Z)((0,s.Z)({},e),{},{select:"usersDisabled"})))},refresh:function(){b((0,h.bi)({select:"usersDisabled"}))},massiveOptions:function(e){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{title:"Restaurar",arrow:!0,children:(0,Z.jsx)(l.Z,{component:"span",disabled:!j,onClick:function(){var n,r=0,t=[],a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;t[r]=s.id,r++}}catch(o){a.e(o)}finally{a.f()}b((0,g.CI)({select:"restoreMassiveUser",open:!0,data:t}))},children:(0,Z.jsx)(c.Z,{})})}),(0,Z.jsx)(o.Z,{title:"Eliminar",arrow:!0,children:(0,Z.jsx)(l.Z,{component:"span",disabled:!v,onClick:function(){var n,r=0,t=[],a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;t[r]=s.id,r++}}catch(o){a.e(o)}finally{a.f()}b((0,g.CI)({select:"destroyMassiveUser",open:!0,data:t}))},children:(0,Z.jsx)(d.Z,{})})})]})}})}var m=r(39481),j=r(20559),v=r(2e3),b=r(58649),C=r(46031);function P(){return(0,Z.jsxs)(a.Z,{sx:{paddingBottom:6},children:[(0,Z.jsx)(f,{}),(0,Z.jsx)(m.Z,{rdx1:"requestStatus",rdx2:"restoreUser",close:(0,g.CI)({open:!1,data:{},select:"restoreUser"}),request:function(e){return(0,j.G)(e)},children:function(e){return(0,Z.jsxs)("span",{children:["Est\xe1 a punto de restaurar al usuario ",(0,Z.jsx)("strong",{children:"".concat(e.privilegio).concat(e.username)}),". Tenga en cuenta que si reactiva a un estudiante no se asignar\xe1 a ning\xfan curso."]})}}),(0,Z.jsx)(m.Z,{rdx1:"requestStatus",rdx2:"restoreMassiveUser",close:(0,g.CI)({open:!1,data:{},select:"restoreMassiveUser"}),request:function(e){return(0,v.A)(e)},children:function(e){return(0,Z.jsxs)("span",{children:["Est\xe1 a punto de restaurar ",(0,Z.jsx)("strong",{children:null===e||void 0===e?void 0:e.length})," usuario(s). Tenga en cuenta que si reactiva a un estudiante no se asignar\xe1 a ning\xfan curso."]})}}),(0,Z.jsx)(m.Z,{rdx1:"requestStatus",rdx2:"destroyUser",close:(0,g.CI)({open:!1,data:{},select:"destroyUser"}),request:function(e){return(0,b.G)(e)},children:function(e){return(0,Z.jsxs)("span",{children:["Est\xe1 a punto de eliminar permanentemente al usuario ",(0,Z.jsx)("strong",{children:"".concat(e.privilegio).concat(e.username)}),". Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]})}}),(0,Z.jsx)(m.Z,{rdx1:"requestStatus",rdx2:"destroyMassiveUser",close:(0,g.CI)({open:!1,data:{},select:"destroyMassiveUser"}),request:function(e){return(0,C.U)(e)},children:function(e){return(0,Z.jsxs)("span",{children:["Est\xe1 a punto de eliminar permanentemente ",(0,Z.jsx)("strong",{children:null===e||void 0===e?void 0:e.length})," usuario(s). Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]})}})]})}},60383:function(e,n,r){var t=r(64836);n.Z=void 0;var a=t(r(45649)),i=r(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");n.Z=s},97125:function(e,n,r){var t=r(64836);n.Z=void 0;var a=t(r(45649)),i=r(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");n.Z=s},97278:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(29439),a=r(63366),i=r(87462),s=r(72791),o=r(28182),l=r(94419),d=r(14036),c=r(66934),u=r(98278),p=r(52930),h=r(95080),x=r(21217);function g(e){return(0,x.Z)("PrivateSwitchBase",e)}(0,r(75878).Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Z=r(80184),f=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],m=(0,c.ZP)(h.Z)((function(e){var n=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),j=(0,c.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),v=s.forwardRef((function(e,n){var r=e.autoFocus,s=e.checked,c=e.checkedIcon,h=e.className,x=e.defaultChecked,v=e.disabled,b=e.disableFocusRipple,C=void 0!==b&&b,P=e.edge,k=void 0!==P&&P,S=e.icon,w=e.id,y=e.inputProps,z=e.inputRef,F=e.name,R=e.onBlur,I=e.onChange,H=e.onFocus,D=e.readOnly,q=e.required,E=e.tabIndex,U=e.type,_=e.value,B=(0,a.Z)(e,f),T=(0,u.Z)({controlled:s,default:Boolean(x),name:"SwitchBase",state:"checked"}),M=(0,t.Z)(T,2),O=M[0],G=M[1],A=(0,p.Z)(),N=v;A&&"undefined"===typeof N&&(N=A.disabled);var L="checkbox"===U||"radio"===U,W=(0,i.Z)({},e,{checked:O,disabled:N,disableFocusRipple:C,edge:k}),V=function(e){var n=e.classes,r=e.checked,t=e.disabled,a=e.edge,i={root:["root",r&&"checked",t&&"disabled",a&&"edge".concat((0,d.Z)(a))],input:["input"]};return(0,l.Z)(i,g,n)}(W);return(0,Z.jsxs)(m,(0,i.Z)({component:"span",className:(0,o.Z)(V.root,h),centerRipple:!0,focusRipple:!C,disabled:N,tabIndex:null,role:void 0,onFocus:function(e){H&&H(e),A&&A.onFocus&&A.onFocus(e)},onBlur:function(e){R&&R(e),A&&A.onBlur&&A.onBlur(e)},ownerState:W,ref:n},B,{children:[(0,Z.jsx)(j,(0,i.Z)({autoFocus:r,checked:s,defaultChecked:x,className:V.input,disabled:N,id:L&&w,name:F,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;G(n),I&&I(e,n)}},readOnly:D,ref:z,required:q,ownerState:W,tabIndex:E,type:U},"checkbox"===U&&void 0===_?{}:{value:_},y)),O?c:S]}))}))}}]);
//# sourceMappingURL=4642.65d652a9.chunk.js.map
"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[3264,838],{83264:function(e,a,r){r.r(a),r.d(a,{default:function(){return p}});var t=r(74165),n=r(15861),s=(r(72791),r(61134)),i=r(50838),l=r(16030),o=r(55614),d=r(5016),u=r(68870),c=r(80184);function p(){var e=(0,l.v9)((function(e){return{user:e.auth.user,loadingUpload:e.requestStatus.personalAvatar.loadingUpload,loadingDelete:e.requestStatus.personalAvatar.loadingDelete,progress:e.requestStatus.personalAvatar.progress}})),a=e.user,r=e.loadingUpload,p=e.loadingDelete,v=e.progress,g=(0,l.I0)(),h=(0,s.cI)(),m=h.handleSubmit,f=h.register,x=h.resetField,Z=function(e){var a=e.user;g((0,d.Al)({user:a}))},b=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(a){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,"delete"===a.avatar?r.append("delete_avatar",!0):r.append("avatar",a.avatar[0]),r.append("_method","PUT"),e.next=5,g((0,o.n)({data:r,type:"delete"!==a.avatar?1:2,personal:!0,handleUpdate:Z}));case 5:x("avatar");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,c.jsx)(u.Z,{mb:4,children:(0,c.jsx)(i.PAvatarForm,{user:a,handleSubmit:m(b),register:f,progress:v,loadingUpload:r,loadingDelete:p})})}},50838:function(e,a,r){r.r(a),r.d(a,{PAvatarForm:function(){return f},default:function(){return x}});var t=r(74165),n=r(15861),s=(r(72791),r(16871)),i=r(61889),l=r(20890),o=r(68870),d=r(94721),u=r(93044),c=r(39709),p=r(61134),v=r(16030),g=r(55614),h=r(80184),m={avatar:function(e){return{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:e.spacing(10),width:e.spacing(10)}}};function f(e){var a=e.user,r=e.loadingUpload,t=e.loadingDelete,n=e.progress,s=e.handleSubmit,p=(0,e.register)("avatar"),v=p.onChange,g=p.onBlur,f=p.name,x=p.ref;return(0,h.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,h.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,h.jsx)(l.Z,{variant:"h6",component:"span",className:"text__bold--semi",children:"Avatar del usuario"}),(0,h.jsx)(o.Z,{mt:1,children:(0,h.jsx)(d.Z,{})})]}),(0,h.jsxs)(i.ZP,{container:!0,alignItems:"center",spacing:2,item:!0,xs:12,children:[(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(u.Z,{alt:"Avatar User",src:a.avatar,sx:m.avatar,children:a.name.substring(0,1).toUpperCase()})}),(0,h.jsxs)(i.ZP,{item:!0,children:[(0,h.jsx)("input",{id:"update_avatar_user",type:"file",style:{display:"none"},accept:"image/*",disabled:t,onChange:function(e){v(e),s()},onBlur:g,name:f,ref:x}),(0,h.jsx)("label",{htmlFor:"update_avatar_user",children:(0,h.jsx)(c.Z,{variant:"contained",loading:r,disabled:t,loadingIndicator:r&&n<99?"".concat(n,"%"):null,color:"primary",component:"span",disableElevation:!0,children:"Cambiar avatar"})})]}),(0,h.jsx)(i.ZP,{item:!0,children:(0,h.jsx)(c.Z,{variant:"outlined",loading:t,disabled:r,color:"inherit",onClick:function(){v({target:{name:"avatar",value:"delete"}}),s()},children:"Quitar avatar"})})]})]})}function x(){var e=(0,s.UO)().id,a=(0,v.v9)((function(e){return{userSelected:e.requestStatus.userShow.userSelected,loadingUpload:e.requestStatus.personalAvatar.loadingUpload,loadingDelete:e.requestStatus.personalAvatar.loadingDelete,progress:e.requestStatus.personalAvatar.progress}})),r=a.userSelected,i=a.loadingUpload,l=a.loadingDelete,d=a.progress,u=(0,v.I0)(),c=(0,p.cI)(),m=c.handleSubmit,x=c.register,Z=c.resetField,b=function(){var a=(0,n.Z)((0,t.Z)().mark((function a(r){var n;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new FormData,"delete"===r.avatar?n.append("delete_avatar",!0):n.append("avatar",r.avatar[0]),n.append("_method","PUT"),a.next=5,u((0,g.n)({data:n,id:e,type:"delete"!==r.avatar?1:2}));case 5:Z("avatar");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,h.jsx)(o.Z,{mb:4,children:(0,h.jsx)(f,{user:r,handleSubmit:m(b),register:x,progress:d,loadingUpload:i,loadingDelete:l})})}}}]);
//# sourceMappingURL=3264.b82577ca.chunk.js.map
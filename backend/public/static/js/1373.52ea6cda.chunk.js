"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[1373,5682],{12866:function(e,n){n.Z=function(e){for(var n="ABCDEFGHIJKMNPQRSTUVWXYZ123456789",t="",r=0,a=n.length;r<e;++r)t+=n.charAt(Math.floor(Math.random()*a));return t}},19840:function(e,n,t){t.d(n,{c:function(){return d}});var r=t(1413),a=t(45987),o=t(48550),l=t(61134),i=t(80184),u=["name","control","rules","defaultValue","helperText"],s=["ref"];function d(e){var n=e.name,t=e.control,d=e.rules,c=void 0===d?null:d,f=e.defaultValue,p=void 0===f?"":f,m=e.helperText,h=void 0===m?"":m,Z=(0,a.Z)(e,u),x=(0,l.bc)({name:n,control:t,rules:c,defaultValue:p}),v=x.field,g=v.ref,b=(0,a.Z)(v,s),T=x.fieldState,j=T.invalid,V=T.error;return(0,i.jsx)(o.Z,(0,r.Z)((0,r.Z)((0,r.Z)({inputRef:g},b),Z),{},{error:j,helperText:V?V.message:h}))}},18493:function(e,n,t){t.d(n,{Q:function(){return Z}});var r=t(1413),a=t(29439),o=t(45987),l=t(72791),i=t(48550),u=t(63466),s=t(13400),d=t(3746),c=t(20165),f=t(61134),p=t(80184),m=["name","control","rules","defaultValue","helperText"],h=["ref"];function Z(e){var n=e.name,t=e.control,Z=e.rules,x=void 0===Z?null:Z,v=e.defaultValue,g=void 0===v?"":v,b=e.helperText,T=void 0===b?"":b,j=(0,o.Z)(e,m),V=(0,l.useState)(!1),C=(0,a.Z)(V,2),P=C[0],q=C[1],O=(0,f.bc)({name:n,control:t,rules:x,defaultValue:g}),S=O.field,E=S.ref,w=(0,o.Z)(S,h),_=O.fieldState,I=_.invalid,k=_.error;return(0,p.jsx)(i.Z,(0,r.Z)((0,r.Z)((0,r.Z)({inputRef:E},w),j),{},{error:I,helperText:k?k.message:T,type:P?"text":"password",InputProps:{endAdornment:(0,p.jsx)(u.Z,{position:"end",children:(0,p.jsx)(s.Z,{onClick:function(){q(!P)},size:null===j||void 0===j?void 0:j.size,children:P?(0,p.jsx)(c.Z,{}):(0,p.jsx)(d.Z,{})})})}}))}},99507:function(e,n,t){t.d(n,{yh:function(){return P},mX:function(){return v},cl:function(){return r.c},gT:function(){return f},Q:function(){return p.Q}});var r=t(19840),a=t(1413),o=t(45987),l=t(48550),i=t(61134),u=t(30948),s=t(80184),d=["name","control","rules","defaultValue","helperText"],c=["ref","onChange"];function f(e){var n=e.name,t=e.control,r=e.rules,f=void 0===r?null:r,p=e.defaultValue,m=void 0===p?"":p,h=e.helperText,Z=void 0===h?"":h,x=(0,o.Z)(e,d),v=(0,i.bc)({name:n,control:t,rules:f,defaultValue:m}),g=v.field,b=(g.ref,g.onChange),T=(0,o.Z)(g,c),j=v.fieldState,V=j.invalid,C=j.error;return(0,s.jsx)(u.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},T),x),{},{customInput:l.Z,error:V,onValueChange:function(e){b((null===e||void 0===e?void 0:e.value)||"")},helperText:C?C.message:Z,mask:"_"}))}var p=t(18493),m=t(92343),h=t(72791),Z=["multiple","options","name","control","defaultValue","rules","isOptionEqualToValue","getOptionLabel","helperText","disabled"],x=["ref","onChange"];function v(e){var n=e.multiple,t=e.options,r=e.name,u=e.control,d=e.defaultValue,c=e.rules,f=void 0===c?{required:"* Campo requerido"}:c,p=e.isOptionEqualToValue,h=e.getOptionLabel,v=e.helperText,g=e.disabled,b=(0,o.Z)(e,Z),T=(0,i.bc)({name:r,control:u,rules:f,defaultValue:d}),j=T.field,V=j.ref,C=j.onChange,P=(0,o.Z)(j,x),q=T.fieldState,O=q.invalid,S=q.error;return(0,s.jsx)(m.Z,(0,a.Z)((0,a.Z)({},P),{},{onChange:function(e,n){C(n)},multiple:n,options:t,noOptionsText:"No hay resultados",getOptionLabel:h,isOptionEqualToValue:p,disabled:g,renderInput:function(e){return(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),b),{},{inputRef:V,error:O,helperText:S?S.message:v}))}}))}var g=t(74165),b=t(15861),T=t(29439),j=t(13239);var V=["name","control","rules","data","defaultValue","helperText","getOptionLabel","isOptionEqualToValue","multiple","handleRequest","disabled","renderOption"],C=["ref","onChange"];function P(e){var n=e.name,t=e.control,r=e.rules,u=void 0===r?null:r,d=e.data,c=void 0===d?[]:d,f=e.defaultValue,p=void 0===f?"":f,Z=e.helperText,x=void 0===Z?"":Z,v=e.getOptionLabel,P=e.isOptionEqualToValue,q=e.multiple,O=e.handleRequest,S=e.disabled,E=e.renderOption,w=(0,o.Z)(e,V),_=(0,h.useState)(!1),I=(0,T.Z)(_,2),k=I[0],y=I[1],L=(0,h.useState)([]),N=(0,T.Z)(L,2),R=N[0],A=N[1],z=(0,h.useState)(""),Q=(0,T.Z)(z,2),D=Q[0],U=Q[1],F=(0,h.useState)(!0),M=(0,T.Z)(F,2),W=M[0],B=M[1],G=W&&k&&0===R.length,X=(0,i.bc)({name:n,control:t,rules:u,defaultValue:p}),H=X.field,J=H.ref,K=H.onChange,Y=(0,o.Z)(H,C),$=X.fieldState.error;(0,h.useEffect)((function(){var e=!0,n=function(){var e=(0,b.Z)((0,g.Z)().mark((function e(){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(G)return e&&n(),function(){e=!1}}),[G]),(0,h.useEffect)((function(){k||(A([]),B(!0))}),[k]),(0,h.useEffect)((function(){null!==c&&(A(c),B(!1))}),[c]);var ee=(0,h.useCallback)(function(e,n){var t;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(void 0,a)}),n)}}((function(){A([]),B(!0)}),500),[]);return(0,s.jsx)(m.Z,{multiple:q,id:"autocomplete-".concat(n),options:R,open:k,onOpen:function(){y(!0),B(!0)},onClose:function(){y(!1)},onChange:function(e,n){K(n)},inputValue:D,onInputChange:function(e,n){U(n),"change"===(null===e||void 0===e?void 0:e.type)&&ee()},getOptionLabel:v,isOptionEqualToValue:P,loading:G,loadingText:"Cargando...",noOptionsText:"No hay resultados",disabled:S,renderOption:E,renderInput:function(e){return(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},e),Y),w),{},{inputRef:J,error:Boolean($),helperText:$?$.message:x,InputProps:(0,a.Z)((0,a.Z)({},e.InputProps),{},{endAdornment:(0,s.jsxs)(h.Fragment,{children:[G?(0,s.jsx)(j.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}},41373:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});t(72791);var r=t(61134),a=t(25682),o=t(16030),l=t(84955),i=t(5016),u=t(80184);function s(){var e=(0,o.v9)((function(e){return e.requestStatus.personalData.loadingPP})),n=(0,o.I0)(),t=(0,r.cI)(),s=t.handleSubmit,d=t.control,c=t.setValue,f=function(e){var t=e.user;n((0,i.Al)({user:t}))};return(0,u.jsx)(a.PPasswordForm,{control:d,handleSubmit:s((function(e){e._method="PUT",n((0,l.V)({submitData:e,loading:"loadingPP",personal:!0,handleUpdate:f}))})),loading:e,setValue:c,helperText:"* Campo requerido"})}},25682:function(e,n,t){t.r(n),t.d(n,{PPasswordForm:function(){return g},default:function(){return b}});var r=t(29439),a=t(72791),o=t(16871),l=t(61889),i=t(20890),u=t(68870),s=t(94721),d=t(85523),c=t(9955),f=t(39709),p=t(61134),m=t(99507),h=t(12866),Z=t(16030),x=t(84955),v=t(80184);function g(e){var n=e.control,t=e.handleSubmit,o=e.setValue,Z=e.loading,x=e.helperText,g=(0,a.useState)(!1),b=(0,r.Z)(g,2),T=b[0],j=b[1],V=(0,p.qo)({name:"password",control:n});return(0,v.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,v.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,v.jsx)(i.Z,{variant:"h6",component:"span",className:"text__bold--semi",children:"Cambiar contrase\xf1a"}),(0,v.jsx)(u.Z,{mt:1,children:(0,v.jsx)(s.Z,{})})]}),(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(m.Q,{control:n,rules:{required:"* Campo requerido",minLength:{value:4,message:"Error: No v\xe1lido"},maxLength:{value:25,message:"Error: No v\xe1lida"}},name:"password",label:"Contrase\xf1a",helperText:x,size:"small",fullWidth:!0,disabled:Z})}),(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(m.Q,{control:n,rules:{required:"* Campo requerido",minLength:{value:4,message:"Error: No v\xe1lido"},maxLength:{value:25,message:"Error: No v\xe1lida"},validate:function(e){return e===V||"Error: La contrase\xf1a no coincide"}},name:"repeat_password",label:"Repetir contrase\xf1a",helperText:"* Campo requerido",size:"small",fullWidth:!0,disabled:Z})}),(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsx)(d.Z,{control:(0,v.jsx)(c.Z,{value:T,onChange:function(e){if(e.target.checked){var n=(0,h.Z)(4);o("password",n),o("repeat_password",n),j(e.target.checked)}else o("password",""),o("repeat_password",""),j(e.target.checked)},disabled:Z,color:"primary"}),label:"Generar contrase\xf1a"})}),T&&(0,v.jsx)(l.ZP,{item:!0,xs:12,children:(0,v.jsxs)(i.Z,{className:"text__opacity--semi",children:["Contrase\xf1a generada: ",V]})}),(0,v.jsx)(l.ZP,{container:!0,justifyContent:"flex-end",item:!0,xs:12,children:(0,v.jsx)(f.Z,{variant:"contained",loading:Z,disableElevation:!0,onClick:t,children:"Cambiar contrase\xf1a"})})]})}function b(){var e=(0,o.UO)().id,n=(0,Z.v9)((function(e){return e.requestStatus.personalData.loadingPP})),t=(0,Z.I0)(),r=(0,p.cI)(),a=r.handleSubmit,l=r.control,i=r.setValue;return(0,v.jsx)(g,{control:l,handleSubmit:a((function(n){n._method="PUT",t((0,x.V)({submitData:n,id:e,loading:"loadingPP"}))})),loading:n,setValue:i,helperText:"Tenga en cuenta que una vez cambiada la contrase\xf1a el usuario ya no podr\xe1 acceder con su contrase\xf1a antig\xfca, asegurese de informar al usuario de este cambio"})}}}]);
//# sourceMappingURL=1373.52ea6cda.chunk.js.map
"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[3293],{76429:function(e,n,a){var t=a(1413),r=a(72791),l=a(55931),i=a(80184),o=r.forwardRef((function(e,n){return(0,i.jsx)(l.Z,(0,t.Z)({direction:"up",ref:n},e))}));n.Z=o},39481:function(e,n,a){a.d(n,{Z:function(){return h}});a(72791);var t=a(5574),r=a(65661),l=a(39157),i=a(51691),o=a(97123),s=a(24518),d=a(76429),u=a(16030),c=a(39709),p=a(80184);function h(e){var n=e.rdx1,a=e.rdx2,h=e.close,f=e.request,x=e.children,m=(0,u.v9)((function(e){return e[n][a]})),Z=m.open,g=m.loading,v=m.data,j=(0,u.I0)();return(0,p.jsxs)(t.Z,{open:Z,TransitionComponent:d.Z,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,p.jsx)(r.Z,{children:"\xbfEst\xe1 seguro?"}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(i.Z,{id:"confirm-dialog-description",children:x(v)})}),(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{disabled:g,onClick:function(){j(h)},color:"inherit",children:"Cancelar"}),(0,p.jsx)(c.Z,{onClick:function(){j(f(v))},loading:g,color:"inherit",children:"Confirmar"})]})]})}},70825:function(e,n,a){a.d(n,{Z:function(){return F}});var t=a(1413),r=a(93433),l=a(72791),i=a(61889),o=a(10703),s=a(52739),d=a(13239),u=a(34663),c=a(20890),p=a(20068),h=a(13400),f=a(39281),x=a(68870),m=a(79836),Z=a(56890),g=a(35855),v=a(53994),j=a(53382),b=a(68582),C=a(12674),T=a(23786),S=a(12065),_=a(12715),P=a(2156),q=a(98333),y=a(10111),w=a(78243),V=a(43950),D=a(71358),I=a(29439),k=a(48550),E=a(63466),O=a(5403),L=a(5130),z=a(80184);function R(e){var n=e.state,a=e.setGlobalFilter,t=e.gotoPage,r=(0,l.useState)(n.globalFilter),i=(0,I.Z)(r,2),o=i[0],s=i[1],d=(0,D.useAsyncDebounce)((function(e){a(e||void 0),t(0)}),500);return(0,z.jsx)(k.Z,{"data-tour":"gdTable__search",size:"small",value:o||"",placeholder:"Buscar...",variant:"standard",onChange:function(e){d(e.target.value),s(e.target.value)},sx:{mr:1},InputProps:{startAdornment:(0,z.jsx)(E.Z,{position:"start",children:(0,z.jsx)(O.Z,{})}),endAdornment:(0,z.jsx)(h.Z,{disabled:!o,onClick:function(){s(""),a(void 0),t(0)},children:(0,z.jsx)(L.Z,{})})}})}var W=a(45987),H=a(94454),A=["indeterminate"],N=l.forwardRef((function(e,n){var a=e.indeterminate,r=(0,W.Z)(e,A),i=l.useRef(),o=n||i;return l.useEffect((function(){o.current.indeterminate=a}),[o,a]),(0,z.jsx)(H.Z,(0,t.Z)({type:"checkbox",ref:o,indeterminate:a,color:a?"default":"primary"},r))}));function F(e){var n=e.data,a=e.columns,I=e.pageSizeData,k=e.pageCountData,E=e.loading,O=e.handleGlobalFilter,L=e.handleChange,W=e.filter,H=e.massiveOptions,A=e.title,F=e.refresh,B=(0,D.useTable)({columns:a,data:n,initialState:{hiddenColumns:["massiveSelection"],pageSize:I,pageIndex:0},manualPagination:!0,pageCount:k},D.useGlobalFilter,D.usePagination,D.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"massiveSelection",Header:function(e){var n=e.getToggleAllRowsSelectedProps;return(0,z.jsx)(N,(0,t.Z)({},n()))},Cell:function(e){var n=e.row;return(0,z.jsx)(N,(0,t.Z)({},n.getToggleRowSelectedProps()))}}].concat((0,r.Z)(e))}))})),U=B.getTableProps,G=B.getTableBodyProps,M=B.headerGroups,Q=B.page,$=B.prepareRow,J=B.state,K=B.selectedFlatRows,X=B.allColumns,Y=B.canPreviousPage,ee=B.canNextPage,ne=B.nextPage,ae=B.previousPage,te=B.setPageSize,re=B.pageOptions,le=B.gotoPage,ie=B.pageCount,oe=J.pageIndex,se=J.pageSize;return(0,l.useEffect)((function(){L({pageIndex:oe,pageSize:se})}),[oe,se]),(0,z.jsx)(i.ZP,{container:!0,spacing:2,children:(0,z.jsx)(i.ZP,{item:!0,xs:12,children:(0,z.jsxs)(o.Z,{sx:{position:"relative"},children:[(0,z.jsx)(s.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.appBar-1},position:"absolute"},open:E,children:(0,z.jsx)(d.Z,{})}),(0,z.jsxs)(u.Z,{sx:(0,t.Z)({},K.length>0&&{bgcolor:function(e){return(0,S.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[K.length>0?(0,z.jsxs)(c.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",noWrap:!0,children:[K.length," seleccionada(s)"]}):(0,z.jsx)(c.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"registros",component:"div",noWrap:!0,children:A}),(0,z.jsx)(R,{state:J,setGlobalFilter:O,gotoPage:le}),K.length>0?H(K.map((function(e){return e.original}))):(0,z.jsxs)(z.Fragment,{children:[H&&(0,z.jsx)(p.Z,{title:"Opciones massivas",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:function(){X.map((function(e){return("massiveSelection"===e.id||"options"===e.id)&&e.toggleHidden(),null}))},"data-tour":"gdTable__massive",disabled:K.length>0,children:(0,z.jsx)(w.Z,{})})}),(0,z.jsx)(p.Z,{title:"Recargar",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:F,"data-tour":"gdTable__refresh",children:(0,z.jsx)(V.Z,{})})}),W]})]}),(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(x.Z,{overflow:"auto",minWidth:352,children:(0,z.jsxs)(m.Z,(0,t.Z)((0,t.Z)({sx:{minWidth:650},"aria-label":"React Table"},U()),{},{children:[(0,z.jsx)(Z.Z,{sx:{th:{border:0}},children:M.map((function(e){return(0,z.jsx)(g.Z,(0,t.Z)((0,t.Z)({sx:{td:{border:0}}},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return"massiveSelection"===e.id?(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({padding:"checkbox"},e.getHeaderProps()),{},{children:e.render("Header")})):"Opciones"===e.Header?(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({align:"right"},e.getHeaderProps()),{},{children:e.render("Header")})):(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),(0,z.jsxs)(j.Z,(0,t.Z)((0,t.Z)({},G()),{},{children:[Q.map((function(e){return $(e),(0,z.jsx)(g.Z,(0,t.Z)((0,t.Z)({sx:{height:"73px"}},e.getRowProps()),{},{children:e.cells.map((function(e){return"massiveSelection"===e.column.id?(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({padding:"checkbox"},e.getCellProps()),{},{children:e.render("Cell")})):"Opciones"===e.column.Header?(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({align:"right"},e.getCellProps()),{},{children:e.render("Cell")})):(0,z.jsx)(v.Z,(0,t.Z)((0,t.Z)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))})),0===Q.length&&(0,z.jsx)(g.Z,{children:(0,z.jsx)(v.Z,{colSpan:"100%",children:(0,z.jsx)(c.Z,{textAlign:"center",children:"No se han encontrado resultados"})})})]}))]}))}),(0,z.jsx)(x.Z,{overflow:"auto",minWidth:352,children:(0,z.jsx)(m.Z,{children:(0,z.jsx)(b.Z,{children:(0,z.jsx)(g.Z,{children:(0,z.jsx)(v.Z,{colSpan:"100%",sx:{border:0},children:(0,z.jsxs)(i.ZP,{container:!0,justifyContent:"flex-end",alignItems:"center",spacing:1,item:!0,xs:12,children:[(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsx)(C.Z,{labelId:"page-size-table-label",id:"page-size-table",value:se,label:"Filas",variant:"standard",onChange:function(e){te(Number(e.target.value))},children:[5,10,20,30,40,50].map((function(e){return(0,z.jsxs)(T.Z,{value:e,children:[e," Filas"]},e)}))})}),(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsx)(p.Z,{title:"Primera p\xe1gina",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:function(){return le(0)},disabled:!Y,children:(0,z.jsx)(_.Z,{})})})}),(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsx)(p.Z,{title:"Anterior",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:ae,disabled:!Y,children:(0,z.jsx)(P.Z,{})})})}),(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsxs)(x.Z,{component:"span",fontSize:"body2.fontSize",color:"text.secondary",children:[oe+1," de ",re.length]})}),(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsx)(p.Z,{title:"Siguiente",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:ne,disabled:!ee,children:(0,z.jsx)(q.Z,{})})})}),(0,z.jsx)(i.ZP,{item:!0,children:(0,z.jsx)(p.Z,{title:"\xdaltima p\xe1gina",arrow:!0,children:(0,z.jsx)(h.Z,{component:"span",onClick:function(){return le(ie-1)},disabled:!ee,children:(0,z.jsx)(y.Z,{})})})})]})})})})})})]})]})})})}},19840:function(e,n,a){a.d(n,{c:function(){return u}});var t=a(1413),r=a(45987),l=a(48550),i=a(61134),o=a(80184),s=["name","control","rules","defaultValue","helperText"],d=["ref"];function u(e){var n=e.name,a=e.control,u=e.rules,c=void 0===u?null:u,p=e.defaultValue,h=void 0===p?"":p,f=e.helperText,x=void 0===f?"":f,m=(0,r.Z)(e,s),Z=(0,i.bc)({name:n,control:a,rules:c,defaultValue:h}),g=Z.field,v=g.ref,j=(0,r.Z)(g,d),b=Z.fieldState,C=b.invalid,T=b.error;return(0,o.jsx)(l.Z,(0,t.Z)((0,t.Z)((0,t.Z)({inputRef:v},j),m),{},{error:C,helperText:T?T.message:x}))}},18493:function(e,n,a){a.d(n,{Q:function(){return m}});var t=a(1413),r=a(29439),l=a(45987),i=a(72791),o=a(48550),s=a(63466),d=a(13400),u=a(3746),c=a(20165),p=a(61134),h=a(80184),f=["name","control","rules","defaultValue","helperText"],x=["ref"];function m(e){var n=e.name,a=e.control,m=e.rules,Z=void 0===m?null:m,g=e.defaultValue,v=void 0===g?"":g,j=e.helperText,b=void 0===j?"":j,C=(0,l.Z)(e,f),T=(0,i.useState)(!1),S=(0,r.Z)(T,2),_=S[0],P=S[1],q=(0,p.bc)({name:n,control:a,rules:Z,defaultValue:v}),y=q.field,w=y.ref,V=(0,l.Z)(y,x),D=q.fieldState,I=D.invalid,k=D.error;return(0,h.jsx)(o.Z,(0,t.Z)((0,t.Z)((0,t.Z)({inputRef:w},V),C),{},{error:I,helperText:k?k.message:b,type:_?"text":"password",InputProps:{endAdornment:(0,h.jsx)(s.Z,{position:"end",children:(0,h.jsx)(d.Z,{onClick:function(){P(!_)},size:null===C||void 0===C?void 0:C.size,children:_?(0,h.jsx)(c.Z,{}):(0,h.jsx)(u.Z,{})})})}}))}},99507:function(e,n,a){a.d(n,{yh:function(){return _},mX:function(){return g},cl:function(){return t.c},gT:function(){return p},Q:function(){return h.Q}});var t=a(19840),r=a(1413),l=a(45987),i=a(48550),o=a(61134),s=a(30948),d=a(80184),u=["name","control","rules","defaultValue","helperText"],c=["ref","onChange","value"];function p(e){var n=e.name,a=e.control,t=e.rules,p=void 0===t?null:t,h=e.defaultValue,f=void 0===h?"":h,x=e.helperText,m=void 0===x?"":x,Z=(0,l.Z)(e,u),g=(0,o.bc)({name:n,control:a,rules:p,defaultValue:f}),v=g.field,j=(v.ref,v.onChange),b=v.value,C=(0,l.Z)(v,c),T=g.fieldState,S=T.invalid,_=T.error;return(0,d.jsx)(s.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},Z),C),{},{value:Number(b)||"",customInput:i.Z,error:S,onValueChange:function(e){j((null===e||void 0===e?void 0:e.value)||"")},helperText:_?_.message:m,mask:"_"}))}var h=a(18493),f=a(92343),x=a(72791),m=["multiple","options","name","control","defaultValue","rules","isOptionEqualToValue","getOptionLabel","helperText","disabled"],Z=["ref","onChange"];function g(e){var n=e.multiple,a=e.options,t=e.name,s=e.control,u=e.defaultValue,c=e.rules,p=void 0===c?{required:"* Campo requerido"}:c,h=e.isOptionEqualToValue,x=e.getOptionLabel,g=e.helperText,v=e.disabled,j=(0,l.Z)(e,m),b=(0,o.bc)({name:t,control:s,rules:p,defaultValue:u}),C=b.field,T=C.ref,S=C.onChange,_=(0,l.Z)(C,Z),P=b.fieldState,q=P.invalid,y=P.error;return(0,d.jsx)(f.Z,(0,r.Z)((0,r.Z)({},_),{},{onChange:function(e,n){S(n)},multiple:n,options:a,noOptionsText:"No hay resultados",getOptionLabel:x,isOptionEqualToValue:h,disabled:v,renderInput:function(e){return(0,d.jsx)(i.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},e),j),{},{inputRef:T,error:q,helperText:y?y.message:g}))}}))}var v=a(74165),j=a(15861),b=a(29439),C=a(13239);var T=["name","control","rules","data","defaultValue","helperText","getOptionLabel","isOptionEqualToValue","multiple","handleRequest","disabled","renderOption","renderTags","limitTags"],S=["ref","onChange"];function _(e){var n=e.name,a=e.control,t=e.rules,s=void 0===t?null:t,u=e.data,c=void 0===u?[]:u,p=e.defaultValue,h=void 0===p?"":p,m=e.helperText,Z=void 0===m?"":m,g=e.getOptionLabel,_=e.isOptionEqualToValue,P=e.multiple,q=e.handleRequest,y=e.disabled,w=e.renderOption,V=e.renderTags,D=e.limitTags,I=(0,l.Z)(e,T),k=(0,x.useState)(!1),E=(0,b.Z)(k,2),O=E[0],L=E[1],z=(0,x.useState)([]),R=(0,b.Z)(z,2),W=R[0],H=R[1],A=(0,x.useState)(""),N=(0,b.Z)(A,2),F=N[0],B=N[1],U=(0,x.useState)(!0),G=(0,b.Z)(U,2),M=G[0],Q=G[1],$=M&&O&&0===W.length,J=(0,o.bc)({name:n,control:a,rules:s,defaultValue:h}),K=J.field,X=K.ref,Y=K.onChange,ee=(0,l.Z)(K,S),ne=J.fieldState.error;(0,x.useEffect)((function(){var e=!0,n=function(){var e=(0,j.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(F);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if($)return e&&n(),function(){e=!1}}),[$]),(0,x.useEffect)((function(){O||(H([]),Q(!0))}),[O]),(0,x.useEffect)((function(){null!==c&&(H(c),Q(!1))}),[c]);var ae=(0,x.useCallback)(function(e,n){var a;return function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];clearTimeout(a),a=setTimeout((function(){return e.apply(void 0,r)}),n)}}((function(){H([]),Q(!0)}),500),[]);return(0,d.jsx)(f.Z,{multiple:P,id:"autocomplete-".concat(n),options:W,open:O,onOpen:function(){L(!0),Q(!0)},onClose:function(){L(!1)},onChange:function(e,n){Y(n)},inputValue:F,onInputChange:function(e,n){B(n),"change"===(null===e||void 0===e?void 0:e.type)&&ae()},getOptionLabel:g,isOptionEqualToValue:_,loading:$,loadingText:"Cargando...",noOptionsText:"No hay resultados",renderTags:V,disabled:y,renderOption:w,limitTags:D,renderInput:function(e){return(0,d.jsx)(i.Z,(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},e),ee),I),{},{inputRef:X,error:Boolean(ne),helperText:ne?ne.message:Z,InputProps:(0,r.Z)((0,r.Z)({},e.InputProps),{},{endAdornment:(0,d.jsxs)(x.Fragment,{children:[$?(0,d.jsx)(C.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}},20310:function(e,n,a){a.d(n,{g:function(){return h}});var t=a(1413),r=a(45987),l=(a(72791),a(68096)),i=a(30829),o=a(12674),s=a(47071),d=a(61134),u=a(80184),c=["name","label","control","helperText","defaultValue","rules","children"],p=["ref"];function h(e){var n=e.name,a=e.label,h=e.control,f=e.helperText,x=void 0===f?"":f,m=e.defaultValue,Z=void 0===m?"":m,g=e.rules,v=void 0===g?{required:"* Campo requerido"}:g,j=e.children,b=(0,r.Z)(e,c),C=(0,d.bc)({name:n,control:h,rules:v,defaultValue:Z}),T=C.field,S=(T.ref,(0,r.Z)(T,p)),_=C.fieldState,P=_.invalid,q=_.error;return(0,u.jsxs)(l.Z,(0,t.Z)((0,t.Z)({},b),{},{error:P,children:[(0,u.jsx)(i.Z,{id:n+"-label",children:a}),(0,u.jsx)(o.Z,(0,t.Z)((0,t.Z)({labelId:n+"-label",label:a,id:n},S),{},{children:j})),(0,u.jsx)(s.Z,{children:q?q.message:x})]}))}},48214:function(e,n,a){a.d(n,{H:function(){return c}});var t=a(1413),r=a(45987),l=(a(72791),a(85523)),i=a(9955),o=a(61134),s=a(80184),d=["label","name","control","defaultValue","labelPlacement"],u=["ref","onChange","value"];function c(e){var n=e.label,a=e.name,c=e.control,p=e.defaultValue,h=void 0!==p&&p,f=e.labelPlacement,x=void 0===f?"end":f,m=(0,r.Z)(e,d),Z=(0,o.bc)({name:a,control:c,defaultValue:h}).field,g=Z.ref,v=Z.onChange,j=Z.value,b=(0,r.Z)(Z,u);return(0,s.jsx)(l.Z,{control:(0,s.jsx)(i.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},m),b),{},{inputRef:g,onChange:function(e){return v(e.currentTarget.checked)},checked:j})),label:n,sx:{userSelect:"none"},labelPlacement:x})}},81075:function(e,n,a){a.d(n,{Z:function(){return s}});var t=a(72791),r=a(86951),l=a(16030),i=a(80064),o=a(5016);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.messageTo200,a=void 0===n||n,s=e.messageTo400,d=void 0===s||s,u=e.message400,c=void 0!==u&&u,p=e.messageTo404,h=void 0===p||p,f=e.message404,x=void 0===f?"Ruta URL no encontrada":f,m=e.messageTo422,Z=void 0===m||m,g=e.message422,v=void 0===g?"Error al verificar los datos":g,j=(0,r.Ds)(),b=j.enqueueSnackbar,C=(0,l.v9)((function(e){return e.notistack})),T=C.notiText,S=C.notiStatus,_=C.notiVariant,P=(0,l.I0)();(0,t.useEffect)((function(){return 200===S||201===S?a&&b(T,{variant:_}):400===S?d&&b(c||T,{variant:"warning"}):401===S?(b("Sesi\xf3n expirada",{variant:"info"}),P((0,o.Rg)())):403===S?b("No tienes permisos para esta acci\xf3n",{variant:"error"}):404===S?h&&b(T||x,{variant:"warning"}):422===S?Z&&b(v,{variant:"error"}):429===S?(b("Demasiadas peticiones",{variant:"info"}),P((0,o.Rg)())):500===S?b("No se ha podido conectar con la base de datos",{variant:"error"}):"offline"===S&&b("Revise su conexi\xf3n a internet",{variant:"error"}),function(){P((0,i.ZN)())}}),[T,S,_,P,b,a,d,c,h,x,Z,v])}},33293:function(e,n,a){a.r(n),a.d(n,{default:function(){return J}});var t=a(72791),r=a(68870),l=a(91614),i=a(61889),o=a(24518),s=a(39481),d=a(81075),u=a(1413),c=a(16871),p=a(20068),h=a(13400),f=a(3746),x=a(41286),m=a(60383),Z=a(70825),g=a(5736),v=a(16030),j=a(83726),b=a(84659),C=a(38420),T=a(80184);function S(){var e=(0,v.v9)((function(e){return{dataR:e.tablesWallet.lotes_deudas.tableData.data,loading:e.tablesWallet.lotes_deudas.tableData.loading,pageSize:e.tablesWallet.lotes_deudas.tableData.pageSize,pageCount:e.tablesWallet.lotes_deudas.tableData.pageCount,administrar_transac:e.auth.permissions.administrar_transac}})),n=e.dataR,a=e.loading,r=e.pageSize,l=e.pageCount,i=e.administrar_transac,o=i.debt_lote_delete,s=i.debt_lote_edit,d=(0,v.I0)(),S=(0,c.s0)(),_=(0,t.useMemo)((function(){return[{Header:"Id",accessor:"id"},{Header:"Motivo",accessor:"reason"},{Header:"Monto a pagar",accessor:"amount_to_pay",Cell:function(e){var n=e.cell.row.original.amount_to_pay;return(0,g.C)(n)}},{Header:"Fecha",accessor:"created_at"},{id:"options",Header:"Opciones",accessor:"options",Cell:function(e){var n=e.cell.row.original;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(p.Z,{title:"Ver",arrow:!0,children:(0,T.jsx)(h.Z,{onClick:function(){S("ver/".concat(n.id))},children:(0,T.jsx)(f.Z,{})})}),(0,T.jsx)(p.Z,{title:"Editar",arrow:!0,children:(0,T.jsx)(h.Z,{disabled:!s,onClick:function(){d((0,b.CI)({open:!0,data:n,select:"editLoteDeuda"}))},children:(0,T.jsx)(x.Z,{})})}),(0,T.jsx)(p.Z,{title:"Eliminar",arrow:!0,children:(0,T.jsx)(h.Z,{disabled:!o,onClick:function(){d((0,b.CI)({open:!0,data:n,select:"deleteLoteDeuda"}))},children:(0,T.jsx)(m.Z,{})})})]})}}]}),[]),P=(0,t.useMemo)((function(){return n}),[n]);(0,t.useEffect)((function(){var e=null;return a&&(e=d((0,C.D)())),function(){a&&e.abort()}}),[a]),(0,t.useEffect)((function(){return function(){d((0,j.AF)({select:"lotes_deudas"}))}}),[]);return(0,T.jsx)(Z.Z,{title:"Lista de cont\xe1ctanos",data:P,columns:_,pageCountData:l,pageSizeData:r,loading:a,handleGlobalFilter:function(e){d((0,j.qP)({search:e||"",select:"lotes_deudas"}))},handleChange:function(e){d((0,j.ai)((0,u.Z)((0,u.Z)({},e),{},{select:"lotes_deudas"})))},refresh:function(){d((0,j.bi)({select:"lotes_deudas"}))}})}var _=a(74165),P=a(15861),q=a(43504),y=a(5574),w=a(65661),V=a(39157),D=a(51691),I=a(50533),k=a(23786),E=a(97123),O=a(39709),L=a(61134),z=a(99507),R=a(20310),W=a(48214),H=a(76429),A=a(615),N=a(48887),F=a(74609);function B(){var e,n=(0,v.v9)((function(e){return{loading:e.requestStatusWallet.createLoteDeuda.loading,open:e.requestStatusWallet.createLoteDeuda.open,dataUserSelected:e.requestStatusWallet.createLoteDeuda.dataUserSelected,dataCurso:e.requestStatus.createUser.data}})),a=n.loading,t=n.open,r=n.dataUserSelected,l=n.dataCurso,s=(0,v.I0)(),d=(0,L.cI)({shouldUnregister:!0}),u=d.control,c=d.watch,p=d.handleSubmit,h=function(){s((0,b.CI)({select:"createLoteDeuda",open:!1}))},f=function(){var e=(0,P.Z)((0,_.Z)().mark((function e(n){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((0,A.c)(n));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,P.Z)((0,_.Z)().mark((function e(n){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((0,N.K)(n));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsxs)(y.Z,{open:t,TransitionComponent:H.Z,children:[(0,T.jsx)(w.Z,{children:"Crear lote de deudas"}),(0,T.jsx)(V.Z,{children:(0,T.jsx)("form",{autoComplete:"off",children:(0,T.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsxs)(D.Z,{children:["NOTA: Al usar otra moneda que no sea el bolivar, el sistema convertir\xe1 a bol\xedvares el equivalente al precio actual registrado en el sistema, para m\xe1s informaci\xf3n vaya ",(0,T.jsx)(I.Z,{component:q.OL,to:"/gedure/preguntas-frecuentes",children:"aqu\xed"}),"."]})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.cl,{control:u,rules:{required:"* Campo requerido",minLength:{value:6,message:"Error: Demaciado corto"},maxLength:{value:100,message:"Error: Demaciado largo"}},name:"reason",label:"Motivo",size:"small",helperText:"Ingrese el motivo de la deuda",fullWidth:!0,disabled:a})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsxs)(R.g,{name:"exchange_rate_type",label:"Tipo de moneda",control:u,disabled:a,size:"small",helperText:"Seleccione la moneda que desea usar para esta deuda",fullWidth:!0,children:[(0,T.jsx)(k.Z,{value:"",children:(0,T.jsx)("em",{children:"Ninguno"})}),(0,T.jsx)(k.Z,{value:"$",children:"USD"}),(0,T.jsx)(k.Z,{value:"Bs.",children:"Bs."})]})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.gT,{control:u,rules:{required:"* Campo requerido",min:{value:0,message:"Error: El monto debe ser mayor a 0"}},name:"amount_to_pay",label:"Monto a pagar",helperText:"Ingrese el monto a pagar de la deuda",fullWidth:!0,size:"small",disabled:a||!(null!==(e=c("exchange_rate_type"))&&void 0!==e&&e.length),decimalScale:2,thousandSeparator:".",decimalSeparator:",",allowNegative:!1,prefix:c("exchange_rate_type")+" "})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsxs)(R.g,{name:"type",label:"Deuda para",control:u,disabled:a,helperText:"Seleccione a los estudiantes que recibir\xe1n esta deuda",size:"small",fullWidth:!0,children:[(0,T.jsx)(k.Z,{value:"",children:(0,T.jsx)("em",{children:"Ninguno"})}),(0,T.jsx)(k.Z,{value:"all_studiends",children:"Todos los estudiantes"}),(0,T.jsx)(k.Z,{value:"selected",children:"Estudiantes seleccionados"}),(0,T.jsx)(k.Z,{value:"cursos",children:"Cursos"})]})}),"selected"===c("type")&&(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.yh,{data:r,multiple:!0,name:"selected_users",label:"Buscar estudiantes",control:u,disabled:a,getOptionLabel:function(e){return"".concat(e.privilegio).concat(e.username," - ").concat(e.name)||""},isOptionEqualToValue:function(e,n){return e.id===n.id},limitTags:2,placeholder:"C\xe9dula",handleRequest:f,rules:{required:{value:!0,message:"* Campo requerido"},validate:function(e){return e.length>0||"Error: Debe de seleccionar al menos a 1 usuario"}}})}),"cursos"===c("type")&&(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.yh,{data:l,multiple:!0,label:"Buscar cursos",name:"cursos",handleRequest:x,getOptionLabel:function(e){return e.code},isOptionEqualToValue:function(e,n){return e.code===n.code},limitTags:2,placeholder:"C\xf3digo",control:u,disabled:a,rules:{required:{value:!0,message:"* Campo requerido"},validate:function(e){return e.length>0||"Error: Debe de seleccionar al menos a 1 usuario"}}})})]})})}),(0,T.jsxs)(E.Z,{children:[(0,T.jsx)(W.H,{control:u,name:"create_more",label:"Crear m\xe1s de uno",labelPlacement:"start",color:"primary",disabled:a}),(0,T.jsx)(o.Z,{sx:{ml:1},onClick:h,color:"inherit",children:"Cancelar"}),(0,T.jsx)(O.Z,{onClick:p((function(e){if(e.selected_users){var n=e.selected_users.map((function(e){return e.id}));e.selected_users=n}else if(e.cursos){var a=e.cursos.map((function(e){return e.id}));e.cursos=a}s((0,F.J)({submitData:e,handleClose:h}))})),loading:a,variant:"text",color:"inherit",children:"crear"})]})]})}var U=a(43137),G=a(7674);function M(){var e=(0,v.v9)((function(e){return{loading:e.requestStatusWallet.editLoteDeuda.loading,open:e.requestStatusWallet.editLoteDeuda.open,data:e.requestStatusWallet.editLoteDeuda.data,dataSelected:e.requestStatusWallet.editLoteDeuda.dataSelected,administrar_transac:e.auth.permissions.administrar_transac}})),n=e.loading,a=e.open,t=e.data,r=e.dataSelected,l=e.administrar_transac,s=(0,v.I0)(),d=(0,L.cI)({shouldUnregister:!0}),u=d.control,c=d.watch,p=d.handleSubmit,h=function(){var e=(0,P.Z)((0,_.Z)().mark((function e(n){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((0,U.V)({search:n,id:t.id}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsxs)(y.Z,{open:a,TransitionComponent:H.Z,children:[(0,T.jsxs)(w.Z,{children:["Editar lote de deuda #",t.id]}),(0,T.jsx)(V.Z,{children:(0,T.jsx)("form",{autoComplete:"off",children:(0,T.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsxs)(D.Z,{children:["NOTA: Al usar otra moneda que no sea el bolivar, el sistema convertir\xe1 a bol\xedvares el equivalente al precio actual registrado en el sistema, para m\xe1s informaci\xf3n vaya ",(0,T.jsx)(I.Z,{component:q.OL,to:"/gedure/preguntas-frecuentes",children:"aqu\xed"}),"."]})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.cl,{control:u,rules:{required:"* Campo requerido",minLength:{value:6,message:"Error: Demaciado corto"},maxLength:{value:100,message:"Error: Demaciado largo"}},name:"reason",label:"Motivo",helperText:"Ingrese el motivo de la deuda",defaultValue:t.reason,fullWidth:!0,disabled:n,size:"small"})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsxs)(R.g,{name:"exchange_rate_type",label:"Tipo de moneda",control:u,disabled:n,size:"small",helperText:"Seleccione la moneda que desea usar para esta deuda",defaultValue:"Bs.",fullWidth:!0,children:[(0,T.jsx)(k.Z,{value:"$",children:"USD"}),(0,T.jsx)(k.Z,{value:"Bs.",children:"Bs."})]})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.gT,{control:u,rules:{required:"* Campo requerido",min:{value:0,message:"Error: El monto debe ser mayor a 0"}},name:"amount_to_pay",label:"Monto a pagar",helperText:"Ingrese el monto a pagar de la deuda",fullWidth:!0,size:"small",disabled:n,decimalScale:2,thousandSeparator:".",decimalSeparator:",",defaultValue:t.amount_to_pay,allowNegative:!1,prefix:c("exchange_rate_type")?c("exchange_rate_type")+" ":"Bs. "})}),l.debt_create&&(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(z.yh,{data:r,multiple:!0,name:"selected_users",label:"Agregar estudiantes",helperText:"Ingrese a los estudiantes que desea agregar a esta deuda",placeholder:"C\xe9dula",control:u,disabled:n,getOptionLabel:function(e){return"".concat(e.privilegio).concat(e.username," - ").concat(e.name)||""},isOptionEqualToValue:function(e,n){return e.id===n.id},limitTags:2,handleRequest:h})})]})})}),(0,T.jsxs)(E.Z,{children:[(0,T.jsx)(o.Z,{onClick:function(){s((0,b.CI)({select:"editLoteDeuda",open:!1}))},color:"inherit",children:"Cancelar"}),(0,T.jsx)(O.Z,{onClick:p((function(e){if(e.selected_users){var n=e.selected_users.map((function(e){return e.id}));e.selected_users=n}e._method="PUT",s((0,G.R)({submitData:e,id:t.id}))})),loading:n,variant:"text",color:"inherit",children:"Actualizar"})]})]})}var Q=a(53527),$={container:{flexGrow:1,paddingBottom:6,marginTop:{xs:"80px",sm:12}}};function J(){document.title="Lotes de deudas - La Candelaria",(0,d.Z)();var e=(0,v.v9)((function(e){return e.auth.permissions.administrar_transac})).debt_lote_create,n=(0,v.I0)();return(0,T.jsx)(r.Z,{component:"main",sx:$.container,children:(0,T.jsxs)(l.Z,{children:[(0,T.jsx)(r.Z,{fontSize:"h4.fontSize",mb:3,className:"text__bold--big",children:"Lotes de deudas"}),(0,T.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(i.ZP,{container:!0,justifyContent:"flex-end",item:!0,xs:12,children:(0,T.jsx)(o.Z,{variant:"contained",onClick:function(){n((0,b.CI)({select:"createLoteDeuda",open:!0}))},disabled:!e,children:"Crear lote de deudas"})}),(0,T.jsx)(i.ZP,{item:!0,xs:12,children:(0,T.jsx)(S,{})})]}),(0,T.jsx)(B,{}),(0,T.jsx)(M,{}),(0,T.jsx)(s.Z,{rdx1:"requestStatusWallet",rdx2:"deleteLoteDeuda",close:(0,b.CI)({open:!1,data:{},select:"deleteLoteDeuda"}),request:function(e){return(0,Q.E)(e)},children:function(e){return(0,T.jsxs)("span",{children:["Est\xe1 a punto de eliminar el lote de deuda ",(0,T.jsxs)("strong",{children:[e.reason," (#",e.id,")"]}),". Una vez realizada no se podr\xe1 deshacer esta acci\xf3n."]})}})]})})}}}]);
//# sourceMappingURL=3293.18687dd6.chunk.js.map
{"version":3,"file":"static/js/3695.b688faa3.chunk.js","mappings":"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","sources":["components/Utils/converterCursoCode.js","hooks/useNotifier.js","pages/gedure/boletas/Boleta.js","pages/gedure/boletas/index.js","../node_modules/@mui/icons-material/Download.js","../node_modules/@mui/icons-material/Refresh.js"],"sourcesContent":["export default function conveterCursorCode(code) {\n\tif (typeof code === 'string') {\n\t\tconst grado = code.substring(1,2);\n\t\tconst number = code.substring(0,1);\n\t\t\n\t\tif (grado === 'G') {\n\t\t\treturn `${number} grado`;\n\t\t}else {\n\t\t\treturn `${number} año`;\n\t\t}\n\t}\n}","import { useEffect } from \"react\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { resetNotistack } from \"../store/slices/notistack\";\nimport { logoutApp } from \"../store/slices/auth\";\n\nexport default function useNotifier({\n  messageTo200 = true,\n  messageTo400 = true,\n  message400 = false,\n  message403 = \"No tienes permisos para esta acción\",\n  messageTo404 = true,\n  message404 = 'Ruta URL no encontrada',\n  messageTo422 = true,\n  message422 = 'Error al verificar los datos',\n} = {}) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const { notiText, notiStatus, notiVariant } = useSelector((state) => state.notistack);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (notiStatus === 200 || notiStatus === 201) {\n      messageTo200 &&\n        enqueueSnackbar(notiText, {\n          variant: notiVariant,\n        });\n    } else if (notiStatus === 400) {\n      messageTo400 &&\n        enqueueSnackbar(message400 ? message400 : notiText, {\n          variant: \"warning\",\n        });\n    }else if (notiStatus === 401) {\n      enqueueSnackbar(\"Sesión expirada\", {\n        variant: \"info\",\n      });\n\n      dispatch(logoutApp());\n    } else if (notiStatus === 403) {\n      enqueueSnackbar(message403, {\n        variant: \"error\",\n      });\n    } else if (notiStatus === 404) {\n      messageTo404 &&\n        enqueueSnackbar(notiText ? notiText : message404, {\n          variant: \"warning\",\n        });\n    } else if (notiStatus === 422) {\n      messageTo422 &&\n        enqueueSnackbar(message422, {\n          variant: \"error\",\n        });\n    }else if (notiStatus === 429) {\n      enqueueSnackbar(\"Demasiadas peticiones\", {\n        variant: \"info\",\n      });\n\n      dispatch(logoutApp());\n    } else if (notiStatus === 500) {\n      enqueueSnackbar(\"No se ha podido conectar con la base de datos\", {\n        variant: \"error\",\n      });\n    } else if (notiStatus === \"offline\") {\n      enqueueSnackbar(\"Revise su conexión a internet\", {\n        variant: \"error\",\n      });\n    }\n\n    return () => {\n      dispatch(resetNotistack());\n    };\n  }, [\n    notiText,\n    notiStatus,\n    notiVariant,\n    dispatch,\n    enqueueSnackbar,\n    messageTo200,\n    messageTo400,\n    message400,\n    message403,\n    messageTo404,\n    message404,\n    messageTo422,\n    message422,\n  ]);\n}\n","import React, { useState } from 'react'\n\n// MUI\nimport { Grid, Paper, Box, Tooltip } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport DownloadIcon from '@mui/icons-material/Download';\n\n// Components\nimport conveterCursorCode from '../../../components/Utils/converterCursoCode';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { downloadBoletasUser } from '../../../store/slices/requestStatus/async_trunk/boleta/downloadBoletaUser';\n\nconst listColors = [\n  '#2f80ED',\n  '#219653',\n  '#f2994A',\n  '#9B51E0',\n  '#EB5757',\n  '#c1c1c1',\n];\n\nfunction getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max + 1));\n}\n\nexport default function Boleta({ \n  id, \n  lapso, \n  fecha_humano, \n  fecha_humano_modify,\n  curso,\n  fecha,\n  fecha_modify,\n}) {\n  const [random] = useState(getRandomInt(listColors.length - 1));\n  const [loading, setLoading] = useState(false);\n\n  const { progress } = useSelector(state => ({\n    progress: state.requestStatus.verBoletasUser.progress,\n  }));\n  const dispatch = useDispatch();\n\n  const handleDownload = () => {\n    setLoading(true);\n    dispatch(downloadBoletasUser({ id, curso, lapso, setLoading }));\n  }\n\n  return (\n    <Grid item xs={12} sm={6} md={4}>\n      <Paper elevation={0} className='paper--padding'>\n        <Grid container spacing={2}>\n          <Grid container item xs={12}>\n            <Grid item xs={2} sm={3} md={3}>\n              <InsertDriveFileIcon style={{fontSize: 60, color: listColors[random]}} />\n            </Grid>\n            <Grid item xs>\n              <Box\n                component='span' \n                style={{color: listColors[random]}} \n                fontSize='h6.fontSize' \n                fontWeight={600}\n              >\n                {conveterCursorCode(curso.curso)} {curso.seccion} - {lapso}° Lapso\n              </Box>\n            </Grid>\n            <Grid item xs={12}>\n              <Box \n                fontSize='body1.fontSize'\n                color='text.disabled'\n                fontWeight={600}\n              >\n                {(fecha === fecha_modify) ? `Subido ${!fecha_humano ? 'el' : ''} ${fecha_humano || fecha}` : `Modificado ${!fecha_humano_modify ? 'el' : ''} ${fecha_humano_modify || fecha_modify}`}\n              </Box>\n            </Grid>\n          </Grid>\n          <Grid container justifyContent='flex-end' alignItems='center' item xs={12}>\n            <Tooltip title='Descargar' arrow>\n              <LoadingButton loading={loading} loadingIndicator={loading && progress < 99 ? `${progress}%` : null} onClick={handleDownload} color='inherit'>\n                <DownloadIcon />\n              </LoadingButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}","import React, { useEffect } from 'react';\n\n// MUI\nimport { Box, CircularProgress, Container, Grid, IconButton, Tooltip } from '@mui/material';\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\n\n// Components\nimport useNotifier from '../../../hooks/useNotifier';\nimport Boleta from './Boleta';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getBoletasUser } from '../../../store/slices/requestStatus/async_trunk/boleta/getBoletasUser';\nimport { setRequestStatus } from '../../../store/slices/requestStatus';\n\nconst classes = {\n  container: {\n    flexGrow: 1,\n    paddingBottom: 6,\n    marginTop: { xs: \"80px\", sm: 12 },\n  },\n};\n\nexport default function Boletas() {\n  useNotifier({\n    message403: 'No puedes descargar esta boleta',\n  });\n\n  const { loading, data, count_notify } = useSelector(state => ({\n    loading: state.requestStatus.verBoletasUser.loading,\n    data: state.requestStatus.verBoletasUser.data,\n    count_notify: state.auth.notify.count,\n  }));\n  const dispatch = useDispatch();\n\n  // NOTA(RECKER): Title\n  document.title = count_notify > 0 ? `(${count_notify}) Boletas - La Candelaria` : 'Boletas - La Candelaria';\n\n  const handleRefresh = () => {\n    dispatch(getBoletasUser())\n  }\n\n  useEffect(() => {\n    let promise = null;\n\n    if (loading) {\n      promise = dispatch(getBoletasUser());\n    }\n\n    return () => {\n      if (loading) {\n        promise.abort();\n      }\n      dispatch(setRequestStatus({ select: 'verBoletasUser', loading: true, data: [] }));\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Box component='main' sx={classes.container}>\n      <Container>\n        <Grid container sx={{mb: 3}} justifyContent='space-between'>\n          <Grid item xs={10}>\n            <Box fontSize='h4.fontSize' className='text__bold--big'>Boletas cargadas</Box>\n          </Grid>\n          <Grid container justifyContent='flex-end' alignItems='center' item xs={2}>\n            <Tooltip title=\"Recargar\" arrow>\n              <IconButton\n                disabled={loading}\n                onClick={handleRefresh}\n                aria-label=\"return\"\n                component='span'\n              >\n                <RefreshIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n        {loading && (\n          <Box textAlign='center'>\n            <CircularProgress />\n          </Box>\n        )}\n        <Grid container spacing={2}>\n          {(Boolean(data.length) && !loading) && data.map((props, key) => (<Boleta key={key} {...props} />))}\n          {(!data.length && !loading && (\n            <Grid item xs={12}>\n              <Box fontSize='body1.fontSize' textAlign='center'>\n                No tiene boletas subidas por los momentos.\n              </Box>\n            </Grid>\n          ))}\n        </Grid>\n      </Container>\n    </Box>\n  )\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\nexports.default = _default;"],"names":["conveterCursorCode","code","grado","substring","number","useNotifier","messageTo200","messageTo400","message400","message403","messageTo404","message404","messageTo422","message422","useSnackbar","enqueueSnackbar","useSelector","state","notistack","notiText","notiStatus","notiVariant","dispatch","useDispatch","useEffect","variant","logoutApp","resetNotistack","listColors","Boleta","max","id","lapso","fecha_humano","fecha_humano_modify","curso","fecha","fecha_modify","useState","length","Math","floor","random","loading","setLoading","progress","requestStatus","verBoletasUser","Grid","item","xs","sm","md","Paper","elevation","className","container","spacing","InsertDriveFile","style","fontSize","color","Box","component","fontWeight","seccion","justifyContent","alignItems","Tooltip","title","arrow","LoadingButton","loadingIndicator","onClick","downloadBoletasUser","Download","classes","flexGrow","paddingBottom","marginTop","Boletas","data","count_notify","auth","notify","count","document","promise","getBoletasUser","abort","setRequestStatus","select","sx","Container","mb","IconButton","disabled","Refresh","textAlign","CircularProgress","Boolean","map","props","key","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}
{"version":3,"file":"static/js/3264.20a96806.chunk.js","mappings":"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","sources":["pages/gedure/cuenta/perfil/CPerfil.js","pages/gedure/usuarios/ver/perfil/PAvatar.js"],"sourcesContent":["import React from 'react';\n\n// Form\nimport { useForm } from 'react-hook-form';\n\n// Components\nimport { PAvatarForm } from '../../usuarios/ver/perfil/PAvatar';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateAvatar } from '../../../../store/slices/requestStatus/async_trunk/users/updateAvatar';\nimport { updateUserData } from '../../../../store/slices/auth';\nimport { Box } from '@mui/material';\n\nexport default function CPerfil() {\n  const { user, loadingUpload, loadingDelete, progress } = useSelector(state => ({\n    user: state.auth.user,\n    loadingUpload: state.requestStatus.personalAvatar.loadingUpload,\n    loadingDelete: state.requestStatus.personalAvatar.loadingDelete,\n    progress: state.requestStatus.personalAvatar.progress,\n  }));\n  const dispatch = useDispatch();\n  \n  const { handleSubmit, register, resetField } = useForm();\n\n  const handleUpdate = ({ user }) => {\n    dispatch(updateUserData({ user }));\n  }\n\n  const onSubmit = async submitData => {\n    const formData = new FormData();\n\n    if (submitData.avatar === 'delete') {\n      formData.append('delete_avatar', true);\n    }else {\n      formData.append('avatar', submitData.avatar[0]);\n    }\n    formData.append('_method', 'PUT');\n\n    await dispatch(updateAvatar({\n      data: formData, \n      type: submitData.avatar!=='delete' ? 1 : 2, \n      personal: true,\n      handleUpdate,\n    }));\n\n    resetField('avatar');\n  }\n\n  return (\n    <Box mb={4}>\n      <PAvatarForm\n        user={user}\n        handleSubmit={handleSubmit(onSubmit)}\n        register={register}\n        progress={progress}\n        loadingUpload={loadingUpload}\n        loadingDelete={loadingDelete}\n      />\n    </Box>\n  )\n}\n","import React from 'react';\n\n// Router\nimport { useParams } from 'react-router-dom';\n\n// MUI\nimport { Avatar, Box, Divider, Grid, Typography } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\n\n// Form\nimport { useForm } from 'react-hook-form';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateAvatar } from '../../../../../store/slices/requestStatus/async_trunk/users/updateAvatar';\n\nconst classes = {\n  avatar: tema => ({\n\t\tbackgroundColor: tema.palette.secondary.main,\n\t\tcolor: tema.palette.secondary.contrastText,\n\t\theight: tema.spacing(10),\n\t\twidth: tema.spacing(10),\n\t})\n}\n\nexport function PAvatarForm({ user, loadingUpload, loadingDelete, progress, handleSubmit, register }) {\n  const { onChange, onBlur, name, ref } = register('avatar'); \n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant='h6' component='span' className='text__bold--semi'>\n\t\t\t\t\tAvatar del usuario\n\t\t\t\t</Typography>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<Divider />\n\t\t\t\t</Box>\n      </Grid>\n      <Grid container alignItems='center' spacing={2} item xs={12}>\n        <Grid item>\n          <Avatar\n\t\t\t\t\t\talt='Avatar User' \n\t\t\t\t\t\tsrc={user.avatar} \n\t\t\t\t\t\tsx={classes.avatar}\n\t\t\t\t\t>\n\t\t\t\t\t\t{user.name.substring(0, 1).toUpperCase()}\n\t\t\t\t\t</Avatar>\n        </Grid>\n        <Grid item>\n\t\t\t\t\t<input \n\t\t\t\t\t\tid='update_avatar_user' \n\t\t\t\t\t\ttype='file' \n\t\t\t\t\t\tstyle={{display: 'none'}}\n\t\t\t\t\t\taccept=\"image/*\"\n            disabled={loadingDelete}\n            onChange={e => {\n              onChange(e);\n              handleSubmit();\n            }}\n            onBlur={onBlur}\n            name={name}\n            ref={ref}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor='update_avatar_user'>\n            <LoadingButton \n              variant='contained' \n              loading={loadingUpload}\n              disabled={loadingDelete}\n              loadingIndicator={loadingUpload && progress < 99 ? `${progress}%` : null} \n              color='primary'\n              component='span' \n              disableElevation\n            >\n              Cambiar avatar\n            </LoadingButton>\n\t\t\t\t\t</label>\n\t\t\t\t</Grid>\n        <Grid item>\n          <LoadingButton \n            variant='outlined' \n            loading={loadingDelete}\n            disabled={loadingUpload}\n            color='inherit'\n            onClick={() => {\n              onChange({target:{name:'avatar',value:'delete'}});\n              handleSubmit();\n            }}\n          >\n            Quitar avatar\n          </LoadingButton>\n\t\t\t\t</Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default function PAvatar() {\n  const { id } = useParams();\n  const { userSelected, loadingUpload, loadingDelete, progress } = useSelector(state => ({\n    userSelected: state.requestStatus.userShow.userSelected,\n    loadingUpload: state.requestStatus.personalAvatar.loadingUpload,\n    loadingDelete: state.requestStatus.personalAvatar.loadingDelete,\n    progress: state.requestStatus.personalAvatar.progress,\n  }));\n  const dispatch = useDispatch();\n\n  const { handleSubmit, register, resetField } = useForm();\n\n  const onSubmit = async submitData => {\n    const formData = new FormData();\n\n    if (submitData.avatar === 'delete') {\n      formData.append('delete_avatar', true);\n    }else {\n      formData.append('avatar', submitData.avatar[0]);\n    }\n    formData.append('_method', 'PUT');\n\n    await dispatch(updateAvatar({data: formData, id, type: submitData.avatar!=='delete' ? 1 : 2}));\n\n    resetField('avatar');\n  }\n\n  return (\n    <Box mb={4}>\n      <PAvatarForm\n        user={userSelected}\n        handleSubmit={handleSubmit(onSubmit)}\n        register={register}\n        progress={progress}\n        loadingUpload={loadingUpload}\n        loadingDelete={loadingDelete}\n      />\n    </Box>\n  )\n}"],"names":["CPerfil","useSelector","state","user","auth","loadingUpload","requestStatus","personalAvatar","loadingDelete","progress","dispatch","useDispatch","useForm","handleSubmit","register","resetField","handleUpdate","updateUserData","onSubmit","submitData","formData","FormData","avatar","append","updateAvatar","data","type","personal","mb","PAvatarForm","classes","tema","backgroundColor","palette","secondary","main","color","contrastText","height","spacing","width","onChange","onBlur","name","ref","container","item","xs","variant","component","className","mt","alignItems","alt","src","sx","substring","toUpperCase","id","style","display","accept","disabled","e","htmlFor","loading","loadingIndicator","disableElevation","onClick","target","value","PAvatar","useParams","userSelected","userShow"],"sourceRoot":""}
{"version":3,"file":"static/js/3695.a12fcb72.chunk.js","mappings":"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","sources":["components/Utils/converterCursoCode.js","hooks/useNotifier.js","pages/gedure/boletas/Boleta.js","pages/gedure/boletas/index.js","../node_modules/@mui/icons-material/Download.js","../node_modules/@mui/icons-material/Refresh.js"],"sourcesContent":["export default function conveterCursorCode(code) {\n\tif (typeof code === 'string') {\n\t\tconst grado = code.substring(1,2);\n\t\tconst number = code.substring(0,1);\n\t\t\n\t\tif (grado === 'G') {\n\t\t\treturn `${number} grado`;\n\t\t}else {\n\t\t\treturn `${number} año`;\n\t\t}\n\t}\n}","import { useEffect } from \"react\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { resetNotistack } from \"../store/slices/notistack\";\nimport { logoutApp } from \"../store/slices/auth\";\n\nexport default function useNotifier({\n  messageTo200 = true,\n  messageTo400 = true,\n  message400 = false,\n  messageTo404 = true,\n  message404 = 'Ruta URL no encontrada',\n  messageTo422 = true,\n  message422 = 'Error al verificar los datos',\n} = {}) {\n  const { enqueueSnackbar } = useSnackbar();\n\n  const { notiText, notiStatus, notiVariant } = useSelector((state) => state.notistack);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (notiStatus === 200 || notiStatus === 201) {\n      messageTo200 &&\n        enqueueSnackbar(notiText, {\n          variant: notiVariant,\n        });\n    } else if (notiStatus === 400) {\n      messageTo400 &&\n        enqueueSnackbar(message400 ? message400 : notiText, {\n          variant: \"warning\",\n        });\n    }else if (notiStatus === 401) {\n      enqueueSnackbar(\"Sesión expirada\", {\n        variant: \"info\",\n      });\n\n      dispatch(logoutApp());\n    } else if (notiStatus === 403) {\n      enqueueSnackbar(\"No tienes permisos para esta acción\", {\n        variant: \"error\",\n      });\n    } else if (notiStatus === 404) {\n      messageTo404 &&\n        enqueueSnackbar(notiText ? notiText : message404, {\n          variant: \"warning\",\n        });\n    } else if (notiStatus === 422) {\n      messageTo422 &&\n        enqueueSnackbar(message422, {\n          variant: \"error\",\n        });\n    }else if (notiStatus === 429) {\n      enqueueSnackbar(\"Demasiadas peticiones\", {\n        variant: \"info\",\n      });\n\n      dispatch(logoutApp());\n    } else if (notiStatus === 500) {\n      enqueueSnackbar(\"No se ha podido conectar con la base de datos\", {\n        variant: \"error\",\n      });\n    } else if (notiStatus === \"offline\") {\n      enqueueSnackbar(\"Revise su conexión a internet\", {\n        variant: \"error\",\n      });\n    }\n\n    return () => {\n      dispatch(resetNotistack());\n    };\n  }, [\n    notiText,\n    notiStatus,\n    notiVariant,\n    dispatch,\n    enqueueSnackbar,\n    messageTo200,\n    messageTo400,\n    message400,\n    messageTo404,\n    message404,\n    messageTo422,\n    message422,\n  ]);\n}\n","import React, { useState } from 'react'\n\n// MUI\nimport { Grid, Paper, Box, Tooltip } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport DownloadIcon from '@mui/icons-material/Download';\n\n// Components\nimport conveterCursorCode from '../../../components/Utils/converterCursoCode';\n\n// Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { downloadBoletasUser } from '../../../store/slices/requestStatus/async_trunk/boleta/downloadBoletaUser';\n\nconst listColors = [\n  '#2f80ED',\n  '#219653',\n  '#f2994A',\n  '#9B51E0',\n  '#EB5757',\n  '#c1c1c1',\n];\n\nfunction getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max + 1));\n}\n\nexport default function Boleta({ \n  id, \n  lapso, \n  fecha_humano, \n  fecha_humano_modify,\n  curso,\n  created_at,\n  updated_at,\n}) {\n  const [random] = useState(getRandomInt(listColors.length - 1));\n\n  const { progress, loading } = useSelector(state => ({\n    loading: state.requestStatus.verBoletasUser.loadingDownload,\n    progress: state.requestStatus.verBoletasUser.progress,\n  }));\n  const dispatch = useDispatch();\n\n  const handleDownload = () => {\n    dispatch(downloadBoletasUser({ id, curso, lapso }));\n  }\n\n  return (\n    <Grid item xs={12} sm={6} md={4}>\n      <Paper elevation={0} className='paper--padding'>\n        <Grid container spacing={2}>\n          <Grid container item xs={12}>\n            <Grid item xs={2} sm={3} md={3}>\n              <InsertDriveFileIcon style={{fontSize: 60, color: listColors[random]}} />\n            </Grid>\n            <Grid item xs>\n              <Box\n                component='span' \n                style={{color: listColors[random]}} \n                fontSize='h6.fontSize' \n                fontWeight={600}\n              >\n                {conveterCursorCode(curso.curso)} {curso.seccion} - {lapso}° Lapso\n              </Box>\n            </Grid>\n            <Grid item xs={12}>\n              <Box \n                fontSize='body1.fontSize'\n                color='text.disabled'\n                fontWeight={600}\n              >\n                {(created_at === updated_at) ? `Subido ${fecha_humano}` : `Modificado ${fecha_humano_modify}`}\n              </Box>\n            </Grid>\n          </Grid>\n          <Grid container justifyContent='flex-end' alignItems='center' item xs={12}>\n            <Tooltip title='Descargar' arrow>\n              <LoadingButton loading={loading} loadingIndicator={loading && progress < 99 ? `${progress}%` : null} onClick={handleDownload} color='inherit'>\n                <DownloadIcon />\n              </LoadingButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}","import React, { useEffect } from 'react';\n\n// MUI\nimport { Box, CircularProgress, Container, Grid, IconButton, Tooltip } from '@mui/material';\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\n\n// Components\nimport useNotifier from '../../../hooks/useNotifier';\nimport Boleta from './Boleta';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getBoletasUser } from '../../../store/slices/requestStatus/async_trunk/boleta/getBoletasUser';\nimport { setRequestStatus } from '../../../store/slices/requestStatus';\n\nconst classes = {\n  container: {\n    flexGrow: 1,\n    paddingBottom: 6,\n    marginTop: { xs: \"80px\", sm: 12 },\n  },\n};\n\nexport default function Boletas() {\n  document.title = 'Boletas - La Candelaria';\n  useNotifier();\n\n  const { loading, data } = useSelector(state => state.requestStatus.verBoletasUser);\n  const dispatch = useDispatch();\n\n  const handleRefresh = () => {\n    dispatch(getBoletasUser())\n  }\n\n  useEffect(() => {\n    let promise = null;\n\n    if (loading) {\n      promise = dispatch(getBoletasUser());\n    }\n\n    return () => {\n      if (loading) {\n        promise.abort();\n      }\n      dispatch(setRequestStatus({ select: 'verBoletasUser', loading: true, data: [] }));\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Box component='main' sx={classes.container}>\n      <Container>\n        <Grid container sx={{mb: 3}} justifyContent='space-between'>\n          <Grid item xs={10}>\n            <Box fontSize='h4.fontSize' className='text__bold--big'>Boletas cargadas</Box>\n          </Grid>\n          <Grid container justifyContent='flex-end' alignItems='center' item xs={2}>\n            <Tooltip title=\"Recargar\" arrow>\n              <IconButton\n                disabled={loading}\n                onClick={handleRefresh}\n                aria-label=\"return\"\n                component='span'\n              >\n                <RefreshIcon />\n              </IconButton>\n            </Tooltip>\n          </Grid>\n        </Grid>\n        {loading && (\n          <Box textAlign='center'>\n            <CircularProgress />\n          </Box>\n        )}\n        <Grid container spacing={2}>\n          {(Boolean(data.length) && !loading) && data.map((props, key) => (<Boleta key={key} {...props} />))}\n          {(!data.length && !loading && (\n            <Grid item xs={12}>\n              <Box fontSize='body1.fontSize' textAlign='center'>\n                No tiene boletas subidas por los momentos.\n              </Box>\n            </Grid>\n          ))}\n        </Grid>\n      </Container>\n    </Box>\n  )\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\n\nexports.default = _default;"],"names":["conveterCursorCode","code","grado","substring","number","useNotifier","messageTo200","messageTo400","message400","messageTo404","message404","messageTo422","message422","useSnackbar","enqueueSnackbar","useSelector","state","notistack","notiText","notiStatus","notiVariant","dispatch","useDispatch","useEffect","variant","logoutApp","resetNotistack","listColors","Boleta","max","id","lapso","fecha_humano","fecha_humano_modify","curso","created_at","updated_at","useState","length","Math","floor","random","loading","requestStatus","verBoletasUser","loadingDownload","progress","Grid","item","xs","sm","md","Paper","elevation","className","container","spacing","InsertDriveFile","style","fontSize","color","Box","component","fontWeight","seccion","justifyContent","alignItems","Tooltip","title","arrow","LoadingButton","loadingIndicator","onClick","downloadBoletasUser","Download","classes","flexGrow","paddingBottom","marginTop","Boletas","document","data","promise","getBoletasUser","abort","setRequestStatus","select","sx","Container","mb","IconButton","disabled","Refresh","textAlign","CircularProgress","Boolean","map","props","key","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}
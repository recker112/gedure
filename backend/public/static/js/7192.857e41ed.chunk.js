"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[7192,2200],{19840:function(e,n,r){r.d(n,{c:function(){return d}});var t=r(1413),a=r(45987),o=r(59911),l=r(61134),i=r(80184),u=["name","control","rules","defaultValue","helperText"],s=["ref"];function d(e){var n=e.name,r=e.control,d=e.rules,c=void 0===d?null:d,f=e.defaultValue,m=void 0===f?"":f,p=e.helperText,h=void 0===p?"":p,v=(0,a.Z)(e,u),Z=(0,l.bc)({name:n,control:r,rules:c,defaultValue:m}),g=Z.field,x=g.ref,b=(0,a.Z)(g,s),T=Z.fieldState,j=T.invalid,V=T.error;return(0,i.jsx)(o.Z,(0,t.Z)((0,t.Z)((0,t.Z)({inputRef:x},b),v),{},{error:j,helperText:V?V.message:h}))}},18493:function(e,n,r){r.d(n,{Q:function(){return v}});var t=r(1413),a=r(29439),o=r(45987),l=r(72791),i=r(59911),u=r(38254),s=r(13811),d=r(3746),c=r(20165),f=r(61134),m=r(80184),p=["name","control","rules","defaultValue","helperText"],h=["ref"];function v(e){var n=e.name,r=e.control,v=e.rules,Z=void 0===v?null:v,g=e.defaultValue,x=void 0===g?"":g,b=e.helperText,T=void 0===b?"":b,j=(0,o.Z)(e,p),V=(0,l.useState)(!1),C=(0,a.Z)(V,2),q=C[0],S=C[1],E=(0,f.bc)({name:n,control:r,rules:Z,defaultValue:x}),O=E.field,P=O.ref,_=(0,o.Z)(O,h),D=E.fieldState,I=D.invalid,y=D.error;return(0,m.jsx)(i.Z,(0,t.Z)((0,t.Z)((0,t.Z)({inputRef:P},_),j),{},{error:I,helperText:y?y.message:T,type:q?"text":"password",InputProps:{endAdornment:(0,m.jsx)(u.Z,{position:"end",children:(0,m.jsx)(s.Z,{onClick:function(){S(!q)},size:null===j||void 0===j?void 0:j.size,children:q?(0,m.jsx)(c.Z,{}):(0,m.jsx)(d.Z,{})})})}}))}},99507:function(e,n,r){r.d(n,{yh:function(){return q},mX:function(){return g},cl:function(){return t.c},gT:function(){return f},Q:function(){return m.Q}});var t=r(19840),a=r(1413),o=r(45987),l=r(59911),i=r(61134),u=r(30948),s=r(80184),d=["name","control","rules","defaultValue","helperText"],c=["ref","onChange","value"];function f(e){var n=e.name,r=e.control,t=e.rules,f=void 0===t?null:t,m=e.defaultValue,p=void 0===m?"":m,h=e.helperText,v=void 0===h?"":h,Z=(0,o.Z)(e,d),g=(0,i.bc)({name:n,control:r,rules:f,defaultValue:p}),x=g.field,b=(x.ref,x.onChange),T=x.value,j=(0,o.Z)(x,c),V=g.fieldState,C=V.invalid,q=V.error;return(0,s.jsx)(u.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},Z),j),{},{value:(Z.format?T:parseFloat(T))||"",customInput:l.Z,error:C,onValueChange:function(e){b((null===e||void 0===e?void 0:e.value)||"")},helperText:q?q.message:v,mask:"_"}))}var m=r(18493),p=r(97008),h=r(72791),v=["multiple","options","name","control","defaultValue","rules","isOptionEqualToValue","getOptionLabel","helperText","disabled"],Z=["ref","onChange"];function g(e){var n=e.multiple,r=e.options,t=e.name,u=e.control,d=e.defaultValue,c=e.rules,f=void 0===c?{required:"* Campo requerido"}:c,m=e.isOptionEqualToValue,h=e.getOptionLabel,g=e.helperText,x=e.disabled,b=(0,o.Z)(e,v),T=(0,i.bc)({name:t,control:u,rules:f,defaultValue:d}),j=T.field,V=j.ref,C=j.onChange,q=(0,o.Z)(j,Z),S=T.fieldState,E=S.invalid,O=S.error;return(0,s.jsx)(p.Z,(0,a.Z)((0,a.Z)({},q),{},{onChange:function(e,n){C(n)},multiple:n,options:r,noOptionsText:"No hay resultados",getOptionLabel:h,isOptionEqualToValue:m,disabled:x,renderInput:function(e){return(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),b),{},{inputRef:V,error:E,helperText:O?O.message:g}))}}))}var x=r(74165),b=r(15861),T=r(29439),j=r(96580);var V=["name","control","rules","data","defaultValue","helperText","getOptionLabel","isOptionEqualToValue","multiple","handleRequest","disabled","renderOption","renderTags","limitTags"],C=["ref","onChange"];function q(e){var n=e.name,r=e.control,t=e.rules,u=void 0===t?null:t,d=e.data,c=void 0===d?[]:d,f=e.defaultValue,m=void 0===f?"":f,v=e.helperText,Z=void 0===v?"":v,g=e.getOptionLabel,q=e.isOptionEqualToValue,S=e.multiple,E=e.handleRequest,O=e.disabled,P=e.renderOption,_=e.renderTags,D=e.limitTags,I=(0,o.Z)(e,V),y=(0,h.useState)(!1),A=(0,T.Z)(y,2),L=A[0],k=A[1],F=(0,h.useState)([]),w=(0,T.Z)(F,2),z=w[0],R=w[1],U=(0,h.useState)(""),N=(0,T.Z)(U,2),Q=N[0],W=N[1],B=(0,h.useState)(!0),X=(0,T.Z)(B,2),$=X[0],G=X[1],H=$&&L&&0===z.length,J=(0,i.bc)({name:n,control:r,rules:u,defaultValue:m}),K=J.field,M=K.ref,Y=K.onChange,ee=(0,o.Z)(K,C),ne=J.fieldState.error;(0,h.useEffect)((function(){var e=!0,n=function(){var e=(0,b.Z)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(Q);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(H)return e&&n(),function(){e=!1}}),[H]),(0,h.useEffect)((function(){L||(R([]),G(!0))}),[L]),(0,h.useEffect)((function(){null!==c&&(R(c),G(!1))}),[c]);var re=(0,h.useCallback)(function(e,n){var r;return function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];clearTimeout(r),r=setTimeout((function(){return e.apply(void 0,a)}),n)}}((function(){R([]),G(!0)}),500),[]);return(0,s.jsx)(p.Z,{multiple:S,id:"autocomplete-".concat(n),options:z,open:L,onOpen:function(){k(!0),G(!0)},onClose:function(){k(!1)},onChange:function(e,n){Y(n)},inputValue:Q,onInputChange:function(e,n){W(n),"change"===(null===e||void 0===e?void 0:e.type)&&re()},getOptionLabel:g,isOptionEqualToValue:q,loading:H,loadingText:"Cargando...",noOptionsText:"No hay resultados",renderTags:_,disabled:O,renderOption:P,limitTags:D,renderInput:function(e){return(0,s.jsx)(l.Z,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},e),ee),I),{},{inputRef:M,error:Boolean(ne),helperText:ne?ne.message:Z,InputProps:(0,a.Z)((0,a.Z)({},e.InputProps),{},{endAdornment:(0,s.jsxs)(s.Fragment,{children:[H?(0,s.jsx)(j.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}},77192:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});r(72791);var t=r(50228),a=r(61134),o=r(32200),l=r(59434),i=r(84955),u=r(5016),s=r(80184);function d(){var e=(0,l.v9)((function(e){return{user:e.auth.user,loading:e.requestStatus.personalData.loadingPD,users_edit_admins:e.auth.permissions.administrar.users_edit_admins}})),n=e.user,r=e.loading,d=e.users_edit_admins,c=(0,l.I0)(),f=(0,a.cI)(),m=f.handleSubmit,p=f.control,h=f.setError,v=function(e){var n=e.user;c((0,u.Al)({user:n}))};return(0,s.jsx)(t.Z,{component:"form",autoComplete:"off",onSubmit:m((function(e){n.username===e.username&&delete e.username,n.email===e.email&&delete e.email,e._method="PUT",c((0,i.V)({submitData:e,errors:h,loading:"loadingPD",personal:!0,handleUpdate:v}))})),mb:4,children:(0,s.jsx)(o.PDatosForm,{control:p,user:n,loading:r,userField:"A-"===n.privilegio&&d,nameField:"V-"!==n.privilegio})})}},32200:function(e,n,r){r.r(n),r.d(n,{PDatosForm:function(){return p},default:function(){return h}});r(72791);var t=r(57689),a=r(45953),o=r(4565),l=r(50228),i=r(81872),u=r(39709),s=r(61134),d=r(99507),c=r(59434),f=r(84955),m=r(80184);function p(e){var n=e.control,r=e.loading,t=e.userField,s=void 0===t||t,c=e.nameField,f=void 0===c||c,p=e.user,h=void 0===p?{}:p;return(0,m.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,m.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,m.jsx)(o.Z,{variant:"h6",component:"span",className:"text__bold--semi",children:"Perfil del usuario"}),(0,m.jsx)(l.Z,{mt:1,children:(0,m.jsx)(i.Z,{})})]}),s&&(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.cl,{control:n,rules:{required:"* Campo requerido",minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:30,message:"Error: Demaciado largo"}},name:"username",label:"Usuario o c\xe9dula",helperText:"El usuario identificar\xe1 a esta cuenta dentro del sistema",defaultValue:h.username,variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),f&&(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.cl,{control:n,rules:{required:"* Campo requerido",minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:90,message:"Error: Demaciado largo"}},name:"name",label:"Nombre de la cuenta",helperText:"El nombre puede ser visto por otros usuarios, tenga discreci\xf3n con lo que coloque aqu\xed",defaultValue:h.name,variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),(0,m.jsx)(a.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.cl,{control:n,rules:{required:"* Campo requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Error: Correo no v\xe1lido"}},name:"email",label:"Correo elect\xf3nico",helperText:"Este correo ser\xe1 usado en distintas partes del sistema para una comunicaci\xf3n directa con el usuario",defaultValue:h.email||"",variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),(0,m.jsx)(a.ZP,{container:!0,justifyContent:"flex-end",item:!0,xs:12,children:(0,m.jsx)(u.Z,{variant:"contained",loading:r,disableElevation:!0,type:"submit",children:"Actualizar"})})]})}function h(){var e=(0,t.UO)().id,n=(0,c.v9)((function(e){return{userSelected:e.requestStatus.userShow.userSelected,loading:e.requestStatus.personalData.loadingPD}})),r=n.userSelected,a=n.loading,o=(0,c.I0)(),l=(0,s.cI)(),i=l.handleSubmit,u=l.control,d=l.setError;return(0,m.jsx)("form",{autoComplete:"off",onSubmit:i((function(n){r.username===n.username&&delete n.username,r.email===n.email&&delete n.email,n._method="PUT",o((0,f.V)({submitData:n,id:e,errors:d,loading:"loadingPD"}))})),children:(0,m.jsx)(p,{control:u,user:r,loading:a})})}}}]);
//# sourceMappingURL=7192.857e41ed.chunk.js.map
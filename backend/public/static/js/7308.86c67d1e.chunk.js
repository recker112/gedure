"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[7308],{68859:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(68870),a=t(91614),o=t(61889),i=t(20890),l=t(50533),s=t(40046),u=t(80184);function c(){return(0,u.jsx)(r.Z,{bgcolor:"primary.main",color:"primary.contrastText",component:"footer",py:3,children:(0,u.jsx)(a.Z,{children:(0,u.jsxs)(o.ZP,{container:!0,alignItems:"center",children:[(0,u.jsx)(o.ZP,{item:!0,xs:12,sm:!0,children:(0,u.jsx)(i.Z,{children:'\xa9 U.E.P A.P.E.P "La Candelaria" | 2022'})}),(0,u.jsxs)(o.ZP,{container:!0,direction:"column",item:!0,xs:12,sm:!0,alignItems:"flex-end",children:[(0,u.jsx)(i.Z,{variant:"h6",className:"text__opacity--semi text__bold--semi",children:"Powered by"}),(0,u.jsx)(l.Z,{target:"_blank",href:"https://github.com/recker112/gedure",children:(0,u.jsx)("img",{src:s.Z,alt:"Logo de gedure",height:"30",style:{opacity:.99}})})]})]})})})}},19840:function(e,n,t){t.d(n,{c:function(){return c}});var r=t(1413),a=t(45987),o=t(48550),i=t(61134),l=t(80184),s=["name","control","rules","defaultValue","helperText"],u=["ref"];function c(e){var n=e.name,t=e.control,c=e.rules,d=void 0===c?null:c,f=e.defaultValue,h=void 0===f?"":f,p=e.helperText,x=void 0===p?"":p,m=(0,a.Z)(e,s),Z=(0,i.bc)({name:n,control:t,rules:d,defaultValue:h}),g=Z.field,v=g.ref,j=(0,a.Z)(g,u),b=Z.fieldState,T=b.invalid,y=b.error;return(0,l.jsx)(o.Z,(0,r.Z)((0,r.Z)((0,r.Z)({inputRef:v},j),m),{},{error:T,helperText:y?y.message:x}))}},18493:function(e,n,t){t.d(n,{Q:function(){return m}});var r=t(1413),a=t(29439),o=t(45987),i=t(72791),l=t(48550),s=t(63466),u=t(13400),c=t(3746),d=t(20165),f=t(61134),h=t(80184),p=["name","control","rules","defaultValue","helperText"],x=["ref"];function m(e){var n=e.name,t=e.control,m=e.rules,Z=void 0===m?null:m,g=e.defaultValue,v=void 0===g?"":g,j=e.helperText,b=void 0===j?"":j,T=(0,o.Z)(e,p),y=(0,i.useState)(!1),P=(0,a.Z)(y,2),C=P[0],V=P[1],w=(0,f.bc)({name:n,control:t,rules:Z,defaultValue:v}),I=w.field,O=I.ref,S=(0,o.Z)(I,x),k=w.fieldState,_=k.invalid,E=k.error;return(0,h.jsx)(l.Z,(0,r.Z)((0,r.Z)((0,r.Z)({inputRef:O},S),T),{},{error:_,helperText:E?E.message:b,type:C?"text":"password",InputProps:{endAdornment:(0,h.jsx)(s.Z,{position:"end",children:(0,h.jsx)(u.Z,{onClick:function(){V(!C)},size:null===T||void 0===T?void 0:T.size,children:C?(0,h.jsx)(d.Z,{}):(0,h.jsx)(c.Z,{})})})}}))}},99507:function(e,n,t){t.d(n,{yh:function(){return C},mX:function(){return g},cl:function(){return r.c},gT:function(){return f},Q:function(){return h.Q}});var r=t(19840),a=t(1413),o=t(45987),i=t(48550),l=t(61134),s=t(30948),u=t(80184),c=["name","control","rules","defaultValue","helperText"],d=["ref","onChange"];function f(e){var n=e.name,t=e.control,r=e.rules,f=void 0===r?null:r,h=e.defaultValue,p=void 0===h?"":h,x=e.helperText,m=void 0===x?"":x,Z=(0,o.Z)(e,c),g=(0,l.bc)({name:n,control:t,rules:f,defaultValue:p}),v=g.field,j=(v.ref,v.onChange),b=(0,o.Z)(v,d),T=g.fieldState,y=T.invalid,P=T.error;return(0,u.jsx)(s.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},b),Z),{},{customInput:i.Z,error:y,onValueChange:function(e){j((null===e||void 0===e?void 0:e.value)||"")},helperText:P?P.message:m,mask:"_"}))}var h=t(18493),p=t(92343),x=t(72791),m=["multiple","options","name","control","defaultValue","rules","isOptionEqualToValue","getOptionLabel","helperText","disabled"],Z=["ref","onChange"];function g(e){var n=e.multiple,t=e.options,r=e.name,s=e.control,c=e.defaultValue,d=e.rules,f=void 0===d?{required:"* Campo requerido"}:d,h=e.isOptionEqualToValue,x=e.getOptionLabel,g=e.helperText,v=e.disabled,j=(0,o.Z)(e,m),b=(0,l.bc)({name:r,control:s,rules:f,defaultValue:c}),T=b.field,y=T.ref,P=T.onChange,C=(0,o.Z)(T,Z),V=b.fieldState,w=V.invalid,I=V.error;return(0,u.jsx)(p.Z,(0,a.Z)((0,a.Z)({},C),{},{onChange:function(e,n){P(n)},multiple:n,options:t,noOptionsText:"No hay resultados",getOptionLabel:x,isOptionEqualToValue:h,disabled:v,renderInput:function(e){return(0,u.jsx)(i.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),j),{},{inputRef:y,error:w,helperText:I?I.message:g}))}}))}var v=t(74165),j=t(15861),b=t(29439),T=t(13239);var y=["name","control","rules","data","defaultValue","helperText","getOptionLabel","isOptionEqualToValue","multiple","handleRequest","disabled","renderOption"],P=["ref","onChange"];function C(e){var n=e.name,t=e.control,r=e.rules,s=void 0===r?null:r,c=e.data,d=void 0===c?[]:c,f=e.defaultValue,h=void 0===f?"":f,m=e.helperText,Z=void 0===m?"":m,g=e.getOptionLabel,C=e.isOptionEqualToValue,V=e.multiple,w=e.handleRequest,I=e.disabled,O=e.renderOption,S=(0,o.Z)(e,y),k=(0,x.useState)(!1),_=(0,b.Z)(k,2),E=_[0],N=_[1],q=(0,x.useState)([]),L=(0,b.Z)(q,2),R=L[0],A=L[1],z=(0,x.useState)(""),F=(0,b.Z)(z,2),B=F[0],Q=F[1],U=(0,x.useState)(!0),D=(0,b.Z)(U,2),M=D[0],G=D[1],W=M&&E&&0===R.length,X=(0,l.bc)({name:n,control:t,rules:s,defaultValue:h}),H=X.field,J=H.ref,K=H.onChange,Y=(0,o.Z)(H,P),$=X.fieldState.error;(0,x.useEffect)((function(){var e=!0,n=function(){var e=(0,j.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(B);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(W)return e&&n(),function(){e=!1}}),[W]),(0,x.useEffect)((function(){E||(A([]),G(!0))}),[E]),(0,x.useEffect)((function(){null!==d&&(A(d),G(!1))}),[d]);var ee=(0,x.useCallback)(function(e,n){var t;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(void 0,a)}),n)}}((function(){A([]),G(!0)}),500),[]);return(0,u.jsx)(p.Z,{multiple:V,id:"autocomplete-".concat(n),options:R,open:E,onOpen:function(){N(!0),G(!0)},onClose:function(){N(!1)},onChange:function(e,n){K(n)},inputValue:B,onInputChange:function(e,n){Q(n),"change"===(null===e||void 0===e?void 0:e.type)&&ee()},getOptionLabel:g,isOptionEqualToValue:C,loading:W,loadingText:"Cargando...",noOptionsText:"No hay resultados",disabled:I,renderOption:O,renderInput:function(e){return(0,u.jsx)(i.Z,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},e),Y),S),{},{inputRef:J,error:Boolean($),helperText:$?$.message:Z,InputProps:(0,a.Z)((0,a.Z)({},e.InputProps),{},{endAdornment:(0,u.jsxs)(x.Fragment,{children:[W?(0,u.jsx)(T.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}},81075:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(72791),a=t(86951),o=t(16030),i=t(80064),l=t(5016);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.messageTo200,t=void 0===n||n,s=e.messageTo400,u=void 0===s||s,c=e.message400,d=void 0!==c&&c,f=e.messageTo404,h=void 0===f||f,p=e.message404,x=void 0===p?"Ruta URL no encontrada":p,m=e.messageTo422,Z=void 0===m||m,g=e.message422,v=void 0===g?"Error al verificar los datos":g,j=(0,a.Ds)(),b=j.enqueueSnackbar,T=(0,o.v9)((function(e){return e.notistack})),y=T.notiText,P=T.notiStatus,C=T.notiVariant,V=(0,o.I0)();(0,r.useEffect)((function(){return 200===P||201===P?t&&b(y,{variant:C}):400===P?u&&b(d||y,{variant:"warning"}):401===P?(b("Sesi\xf3n expirada",{variant:"info"}),V((0,l.Rg)())):403===P?b("No tienes permisos para esta acci\xf3n",{variant:"error"}):404===P?h&&b(y||x,{variant:"warning"}):422===P?Z&&b(v,{variant:"error"}):429===P?(b("Demasiadas peticiones",{variant:"info"}),V((0,l.Rg)())):500===P?b("No se ha podido conectar con la base de datos",{variant:"error"}):"offline"===P&&b("Revise su conexi\xf3n a internet",{variant:"error"}),function(){V((0,i.ZN)())}}),[y,P,C,V,b,t,u,d,h,x,Z,v])}},27308:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(74165),a=t(15861),o=t(72791),i=t(68870),l=t(91614),s=t(61889),u=t(20890),c=t(63466),d=t(13400),f=t(13239),h=t(5403),p=t(61134),x=t(99507),m=t(10703),Z=t(88264),g=t(43504),v=t(80184),j={colorsito:function(e){return{backgroundColor:e.palette.secondary.main,height:200,color:e.palette.secondary.contrastText}},withImg:function(e){return{backgroundColor:e.palette.secondary.main+"A9",height:200,color:e.palette.secondary.contrastText}},button:function(e){return{color:e.palette.secondary.contrastText}}};function b(e){var n=e.data,t=n.title,r=n.slug,a=n.fecha_humano,o=n.url_portada;return(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(m.Z,{style:{background:o?'url("'.concat(o,'")'):"",backgroundSize:"cover"},children:(0,v.jsxs)(s.ZP,{container:!0,sx:o?j.withImg:j.colorsito,className:"paper--padding",children:[(0,v.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,v.jsx)(u.Z,{children:t.length>100?"".concat(t.substring(0,100),"..."):t}),(0,v.jsxs)(u.Z,{className:"text__opacity--semi",children:["Publicado ",-1===a.search("-")?a:"el ".concat(a)]})]}),(0,v.jsx)(s.ZP,{container:!0,justifyContent:"flex-end",alignItems:"flex-end",item:!0,xs:12,children:(0,v.jsx)(d.Z,{component:g.rU,to:"".concat(r),sx:j.button,children:(0,v.jsx)(Z.Z,{})})})]})})})}var T=t(14771),y=t(81075),P=t(68859),C=t(16030),V=t(33524),w=t(14380),I={container:{flexGrow:1,paddingBottom:10,marginTop:{xs:"80px",sm:12}}};function O(){document.title="Noticias - La Candelaria",(0,y.Z)();var e=(0,C.v9)((function(e){return{news:e.requestStatus.newsPreview,auth:e.auth.auth}})),n=e.news,t=n.loading,m=n.data,Z=n.error,g=n.hasFinish,j=n.search,O=e.auth,S=(0,C.I0)(),k=(0,p.cI)(),_=k.control,E=k.handleSubmit;(0,o.useEffect)((function(){var e=S((0,w.F)());return function(){e.abort(),S((0,V.u2)({select:"newsPreview"}))}}),[S]);var N=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((0,V.v2)({select:"newsPreview",input:"search",value:n.search}));case 2:return e.next=4,S((0,w.F)());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.Z,{component:"main",sx:I.container,children:(0,v.jsx)(l.Z,{children:(0,v.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:8,children:(0,v.jsx)(u.Z,{variant:"h4",className:"text__bold--big",children:"Noticias"})}),(0,v.jsx)(s.ZP,{item:!0,xs:!0,sm:!0,children:(0,v.jsx)("form",{onSubmit:E(N),autoComplete:"off",children:(0,v.jsx)(x.cl,{control:_,name:"search",size:"small",label:"Buscar noticia",defaultValue:j,fullWidth:!0,InputProps:{endAdornment:(0,v.jsx)(c.Z,{position:"end",children:(0,v.jsx)(d.Z,{size:"small",type:"submit",children:(0,v.jsx)(h.Z,{})})})}})})}),t&&0===m.length&&(0,v.jsx)(s.ZP,{container:!0,justifyContent:"center",item:!0,xs:12,children:(0,v.jsx)(f.Z,{})}),m.length>0&&(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(T.Z,{dataLength:m.length,hasMore:!g,next:function(){S((0,w.F)())},scrollThreshold:.8,loader:(0,v.jsx)(s.ZP,{sx:{marginTop:2,overflow:"hidden"},container:!0,justifyContent:"center",children:(0,v.jsx)(f.Z,{})}),endMessage:(0,v.jsx)(u.Z,{sx:{marginTop:2},align:"center",children:"No hay m\xe1s noticias publicadas."}),children:(0,v.jsx)(s.ZP,{container:!0,spacing:2,justifyContent:"center",children:m.map((function(e,n){return(0,v.jsx)(b,{data:e},n)}))})})}),Z&&(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(u.Z,{align:"center",children:"Se ha producido un error al intentar obtener los datos, intente recargar la p\xe1gina."})}),0===m.length&&g&&0!==j.length&&(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsxs)(u.Z,{align:"center",children:['No se ha encontrado nada relacionado con "',j,'".',(0,v.jsx)("br",{}),"Intente probar con otras palabras."]})}),0===m.length&&g&&0===j.length&&(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(u.Z,{align:"center",children:"No hay noticias publicadas."})})]})})}),!O&&(0,v.jsx)(P.Z,{})]})}}}]);
//# sourceMappingURL=7308.86c67d1e.chunk.js.map
"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[7192,2200],{19840:function(e,t,r){r.d(t,{c:function(){return s}});var n=r(1413),i=r(45987),a=r(48550),o=r(61134),l=r(80184),u=["name","control","rules","defaultValue","helperText"],d=["ref"];function s(e){var t=e.name,r=e.control,s=e.rules,c=void 0===s?null:s,f=e.defaultValue,m=void 0===f?"":f,p=e.helperText,h=void 0===p?"":p,v=(0,i.Z)(e,u),g=(0,o.bc)({name:t,control:r,rules:c,defaultValue:m}),x=g.field,Z=x.ref,b=(0,i.Z)(x,d),w=g.fieldState,V=w.invalid,T=w.error;return(0,l.jsx)(a.Z,(0,n.Z)((0,n.Z)((0,n.Z)({inputRef:Z},b),v),{},{error:V,helperText:T?T.message:h}))}},18493:function(e,t,r){r.d(t,{Q:function(){return v}});var n=r(1413),i=r(29439),a=r(45987),o=r(72791),l=r(48550),u=r(63466),d=r(13400),s=r(3746),c=r(20165),f=r(61134),m=r(80184),p=["name","control","rules","defaultValue","helperText"],h=["ref"];function v(e){var t=e.name,r=e.control,v=e.rules,g=void 0===v?null:v,x=e.defaultValue,Z=void 0===x?"":x,b=e.helperText,w=void 0===b?"":b,V=(0,a.Z)(e,p),T=(0,o.useState)(!1),S=(0,i.Z)(T,2),C=S[0],j=S[1],A=(0,f.bc)({name:t,control:r,rules:g,defaultValue:Z}),q=A.field,P=q.ref,I=(0,a.Z)(q,h),D=A.fieldState,E=D.invalid,O=D.error;return(0,m.jsx)(l.Z,(0,n.Z)((0,n.Z)((0,n.Z)({inputRef:P},I),V),{},{error:E,helperText:O?O.message:w,type:C?"text":"password",InputProps:{endAdornment:(0,m.jsx)(u.Z,{position:"end",children:(0,m.jsx)(d.Z,{onClick:function(){j(!C)},size:null===V||void 0===V?void 0:V.size,children:C?(0,m.jsx)(c.Z,{}):(0,m.jsx)(s.Z,{})})})}}))}},99507:function(e,t,r){r.d(t,{yh:function(){return j},mX:function(){return x},cl:function(){return n.c},gT:function(){return f},Q:function(){return m.Q}});var n=r(19840),i=r(1413),a=r(45987),o=r(48550),l=r(61134),u=r(30948),d=r(80184),s=["name","control","rules","defaultValue","helperText"],c=["ref","onChange"];function f(e){var t=e.name,r=e.control,n=e.rules,f=void 0===n?null:n,m=e.defaultValue,p=void 0===m?"":m,h=e.helperText,v=void 0===h?"":h,g=(0,a.Z)(e,s),x=(0,l.bc)({name:t,control:r,rules:f,defaultValue:p}),Z=x.field,b=(Z.ref,Z.onChange),w=(0,a.Z)(Z,c),V=x.fieldState,T=V.invalid,S=V.error;return(0,d.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},w),g),{},{customInput:o.Z,error:T,onValueChange:function(e){b((null===e||void 0===e?void 0:e.value)||"")},helperText:S?S.message:v,mask:"_"}))}var m=r(18493),p=r(92343),h=r(72791),v=["multiple","options","name","control","defaultValue","rules","isOptionEqualToValue","getOptionLabel","helperText","disabled"],g=["ref","onChange"];function x(e){var t=e.multiple,r=e.options,n=e.name,u=e.control,s=e.defaultValue,c=e.rules,f=void 0===c?{required:"* Campo requerido"}:c,m=e.isOptionEqualToValue,h=e.getOptionLabel,x=e.helperText,Z=e.disabled,b=(0,a.Z)(e,v),w=(0,l.bc)({name:n,control:u,rules:f,defaultValue:s}),V=w.field,T=V.ref,S=V.onChange,C=(0,a.Z)(V,g),j=w.fieldState,A=j.invalid,q=j.error;return(0,d.jsx)(p.Z,(0,i.Z)((0,i.Z)({},C),{},{onChange:function(e,t){S(t)},multiple:t,options:r,noOptionsText:"No hay resultados",getOptionLabel:h,isOptionEqualToValue:m,disabled:Z,renderInput:function(e){return(0,d.jsx)(o.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},e),b),{},{inputRef:T,error:A,helperText:q?q.message:x}))}}))}var Z=r(15861),b=r(29439),w=r(87757),V=r.n(w),T=r(13239);var S=["name","control","rules","data","defaultValue","helperText","getOptionLabel","isOptionEqualToValue","multiple","handleRequest","disabled","renderOption"],C=["ref","onChange"];function j(e){var t=e.name,r=e.control,n=e.rules,u=void 0===n?null:n,s=e.data,c=void 0===s?[]:s,f=e.defaultValue,m=void 0===f?"":f,v=e.helperText,g=void 0===v?"":v,x=e.getOptionLabel,w=e.isOptionEqualToValue,j=e.multiple,A=e.handleRequest,q=e.disabled,P=e.renderOption,I=(0,a.Z)(e,S),D=(0,h.useState)(!1),E=(0,b.Z)(D,2),O=E[0],L=E[1],R=(0,h.useState)([]),_=(0,b.Z)(R,2),y=_[0],k=_[1],W=(0,h.useState)(""),z=(0,b.Z)(W,2),F=z[0],N=z[1],U=(0,h.useState)(!0),B=(0,b.Z)(U,2),M=B[0],Q=B[1],X=M&&O&&0===y.length,Y=(0,l.bc)({name:t,control:r,rules:u,defaultValue:m}),$=Y.field,G=$.ref,H=$.onChange,J=(0,a.Z)($,C),K=Y.fieldState.error;(0,h.useEffect)((function(){var e=!0,t=function(){var e=(0,Z.Z)(V().mark((function e(){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(F);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(X)return e&&t(),function(){e=!1}}),[X]),(0,h.useEffect)((function(){O||(k([]),Q(!0))}),[O]),(0,h.useEffect)((function(){null!==c&&(k(c),Q(!1))}),[c]);var ee=(0,h.useCallback)(function(e,t){var r;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];clearTimeout(r),r=setTimeout((function(){return e.apply(void 0,i)}),t)}}((function(){k([]),Q(!0)}),500),[]);return(0,d.jsx)(p.Z,{multiple:j,id:"autocomplete-".concat(t),options:y,open:O,onOpen:function(){L(!0),Q(!0)},onClose:function(){L(!1)},onChange:function(e,t){H(t)},inputValue:F,onInputChange:function(e,t){N(t),"change"===(null===e||void 0===e?void 0:e.type)&&ee()},getOptionLabel:x,isOptionEqualToValue:w,loading:X,loadingText:"Cargando...",noOptionsText:"No hay resultados",disabled:q,renderOption:P,renderInput:function(e){return(0,d.jsx)(o.Z,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},e),J),I),{},{inputRef:G,error:Boolean(K),helperText:K?K.message:g,InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{endAdornment:(0,d.jsxs)(h.Fragment,{children:[X?(0,d.jsx)(T.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}})}},77192:function(e,t,r){r.r(t),r.d(t,{default:function(){return s}});r(72791);var n=r(68870),i=r(61134),a=r(32200),o=r(16030),l=r(19215),u=r(5016),d=r(80184);function s(){var e=(0,o.v9)((function(e){return{user:e.auth.user,loading:e.gdUPD.loadingPD,users_edit_admins:e.auth.permissions.administrar.users_edit_admins}})),t=e.user,r=e.loading,s=e.users_edit_admins,c=(0,o.I0)(),f=(0,i.cI)(),m=f.handleSubmit,p=f.control,h=f.setError,v=function(e){var t=e.user;c((0,u.Al)({user:t}))};return(0,d.jsx)(n.Z,{mb:4,children:(0,d.jsx)(a.PDatosForm,{control:p,user:t,handleSubmit:m((function(e){t.username===e.username&&delete e.username,t.email===e.email&&delete e.email,e._method="PUT",c((0,l.VA)({submitData:e,errors:h,loading:"loadingPD",personal:!0,handleUpdate:v}))})),loading:r,userField:"A-"===t.privilegio&&s,nameField:"V-"!==t.privilegio})})}},32200:function(e,t,r){r.r(t),r.d(t,{PDatosForm:function(){return p},default:function(){return h}});r(72791);var n=r(16871),i=r(61889),a=r(20890),o=r(68870),l=r(94721),u=r(39709),d=r(61134),s=r(99507),c=r(16030),f=r(84955),m=r(80184);function p(e){var t=e.control,r=e.loading,n=e.handleSubmit,d=e.userField,c=void 0===d||d,f=e.nameField,p=void 0===f||f,h=e.user,v=void 0===h?{}:h;return(0,m.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,m.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,m.jsx)(a.Z,{variant:"h6",component:"span",className:"text__bold--semi",children:"Perfil del usuario"}),(0,m.jsx)(o.Z,{mt:1,children:(0,m.jsx)(l.Z,{})})]}),c&&(0,m.jsx)(i.ZP,{item:!0,xs:12,children:(0,m.jsx)(s.cl,{control:t,rules:{required:"* Campo requerido",minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:30,message:"Error: Demaciado largo"}},name:"username",label:"Usuario o c\xe9dula",helperText:"El usuario identificar\xe1 a esta cuenta dentro del sistema",defaultValue:v.username,variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),p&&(0,m.jsx)(i.ZP,{item:!0,xs:12,children:(0,m.jsx)(s.cl,{control:t,rules:{required:"* Campo requerido",minLength:{value:3,message:"Error: Demaciado corto"},maxLength:{value:90,message:"Error: Demaciado largo"}},name:"name",label:"Nombre de la cuenta",helperText:"El nombre puede ser visto por otros usuarios, tenga discreci\xf3n con lo que coloque aqu\xed",defaultValue:v.name,variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),(0,m.jsx)(i.ZP,{item:!0,xs:12,children:(0,m.jsx)(s.cl,{control:t,rules:{required:"* Campo requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Error: Correo no v\xe1lido"}},name:"email",label:"Correo elect\xf3nico",helperText:"Este correo ser\xe1 usado en distintas partes del sistema para una comunicaci\xf3n directa con el usuario",defaultValue:v.email,variant:"outlined",size:"small",fullWidth:!0,disabled:r})}),(0,m.jsx)(i.ZP,{container:!0,justifyContent:"flex-end",item:!0,xs:12,children:(0,m.jsx)(u.Z,{variant:"contained",loading:r,disableElevation:!0,onClick:n,children:"Actualizar"})})]})}function h(){var e=(0,n.UO)().id,t=(0,c.v9)((function(e){return{userSelected:e.requestStatus.userShow.userSelected,loading:e.requestStatus.personalData.loadingPD}})),r=t.userSelected,i=t.loading,a=(0,c.I0)(),o=(0,d.cI)(),l=o.handleSubmit,u=o.control,s=o.setError;return(0,m.jsx)(p,{control:u,user:r,handleSubmit:l((function(t){r.username===t.username&&delete t.username,r.email===t.email&&delete t.email,t._method="PUT",a((0,f.V)({submitData:t,id:e,errors:s,loading:"loadingPD"}))})),loading:i})}},94721:function(e,t,r){var n=r(63366),i=r(87462),a=r(72791),o=r(28182),l=r(12039),u=r(12065),d=r(47630),s=r(93736),c=r(90133),f=r(80184),m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,d.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,u.Fq)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat((t.vars||t).palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return(0,i.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),h=(0,d.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var r=e.ownerState;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===r.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),v=a.forwardRef((function(e,t){var r=(0,s.Z)({props:e,name:"MuiDivider"}),a=r.absolute,u=void 0!==a&&a,d=r.children,v=r.className,g=r.component,x=void 0===g?d?"div":"hr":g,Z=r.flexItem,b=void 0!==Z&&Z,w=r.light,V=void 0!==w&&w,T=r.orientation,S=void 0===T?"horizontal":T,C=r.role,j=void 0===C?"hr"!==x?"separator":void 0:C,A=r.textAlign,q=void 0===A?"center":A,P=r.variant,I=void 0===P?"fullWidth":P,D=(0,n.Z)(r,m),E=(0,i.Z)({},r,{absolute:u,component:x,flexItem:b,light:V,orientation:S,role:j,textAlign:q,variant:I}),O=function(e){var t=e.absolute,r=e.children,n=e.classes,i=e.flexItem,a=e.light,o=e.orientation,u=e.textAlign,d={root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===u&&"vertical"!==o&&"textAlignRight","left"===u&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.Z)(d,c.V,n)}(E);return(0,f.jsx)(p,(0,i.Z)({as:x,className:(0,o.Z)(O.root,v),role:j,ref:t,ownerState:E},D,{children:d?(0,f.jsx)(h,{className:O.wrapper,ownerState:E,children:d}):null}))}));t.Z=v},90133:function(e,t,r){r.d(t,{V:function(){return i}});var n=r(19818);function i(e){return(0,n.Z)("MuiDivider",e)}var a=(0,r(22152).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a}}]);
//# sourceMappingURL=7192.d9768abf.chunk.js.map
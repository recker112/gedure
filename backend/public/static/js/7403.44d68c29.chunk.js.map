{"version":3,"file":"static/js/7403.44d68c29.chunk.js","mappings":"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","sources":["pages/gedure/publicaciones/crear/MakePost.js","pages/gedure/publicaciones/crear/TourCrearPub.js","pages/gedure/publicaciones/crear/index.js"],"sourcesContent":["import React from 'react';\n\n// MUI\nimport { Button, Grid, Paper, Typography } from '@mui/material';\nimport LoadingButton from '@mui/lab/LoadingButton';\n\n// Form\nimport { useFormContext } from \"react-hook-form\";\nimport { InputHook } from '../../../../components/form/inputs';\nimport { Box } from '@mui/system';\nimport { SwitchHook } from '../../../../components/form/switch';\n\n// Components\nimport MarkDown from './MarkDown';\nimport DropAreaGalery from './DropAreaGalery';\n\n// Redux\nimport { useSelector } from 'react-redux';\n\nexport default function MakePost() {\n  const { control, register, watch } = useFormContext();\n\n  const { loading, progress } = useSelector(state => state.requestStatus.createPost);\n\n  return (\n    <Paper className='paper--padding' elevation={0}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n\t\t\t\t\t<Typography variant='h6' align='center'>Crear publicación</Typography>\n\t\t\t\t</Grid>\n        <Grid item xs={12}>\n          <InputHook\n            data-tour=\"gdPub__title\"\n            control={control}\n            rules={{\n              required: '* Campo requerido',\n              minLength: { value: 6, message: 'Error: Demaciado corto' },\n              maxLength: { value: 100, message: 'Error: Demaciado largo' },\n            }}\n            name='title'\n            label='Título'\n            helperText='Ingrese un título para su publicación'\n            size='small'\n            variant='standard'\n            fullWidth\n            defaultValue={''}\n            disabled={loading}\n          />\n        </Grid>\n        <Grid container item xs={12}>\n          <MarkDown\n            defaultValue={''}\n            disabled={loading}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Typography variant='h6' className=\"text__bold--big text__opacity--semi\">\n            Opcionales\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <input\n            {...register('portada')}\n            accept=\"image/*\"\n            style={{display: 'none'}}\n            id=\"button-file-portada\"\n            disabled={loading}\n            type=\"file\"\n          />\n          <label htmlFor=\"button-file-portada\">\n            <Button color='primary' disabled={loading} variant='contained' component='span' disableElevation>\n              Cargar portada\n            </Button>\n          </label>\n          {watch('portada',[])?.length ? (\n            <Box ml={2} fontSize='body1.fontSize' component='span'>Portada cargada</Box>\t\n          ) : null}\n        </Grid>\n        <Grid item xs={12}>\n\t\t\t\t\t<SwitchHook\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tdefaultValue={false}\n\t\t\t\t\t\tname='only_users'\n\t\t\t\t\t\tlabel='Disponible solo para usuarios'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n        <Grid item xs={12}>\n          <DropAreaGalery label='Galería de imágenes, arrastre o de click para cargar imágenes' defaultValue={[]} />\n        </Grid>\n        <Grid container justifyContent='flex-end' item xs={12}>\n          <LoadingButton \n            variant='contained'\n            type='submit'\n            loading={loading}\n            loadingIndicator={loading && progress < 99 ? `${progress}%` : null} \n            color='primary'\n            disableElevation\n          >\n            Crear\n          </LoadingButton>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n","import React from 'react';\n\nimport { \n\tTypography,\n\tButton,\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\n\n// Components\nimport TourComponent from '../../../../components/TourComponent';\n\nexport default function TourCrearPub() {\n\tconst theme = useTheme();\n\t\n\tconst steps = [\n\t\t{\n\t\t\tselector: '',\n\t\t\tcontent: ({goTo}) => (\n\t\t\t\t<div>\n\t\t\t\t\t<Typography color='primary' className='text__bold--big' variant='h5'>\n\t\t\t\t\t\tCrear\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\tEn este apartado podrá <strong>crear</strong> publicaciones en el sistema.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button size='small' color='primary' onClick={()=>{goTo(6)}}>\n\t\t\t\t\t\tSaltar tour\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tselector: '[data-tour=\"gdPub__preview\"]',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tEste botón le permite <strong>alternar</strong> entre <strong>visualizar</strong> una vista previa y <strong>editar</strong> la publicación.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t},\n    {\n\t\t\tselector: '[data-tour=\"gdPub__title\"]',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tEste campo le permite <strong>cambiar el título</strong> de la publicación.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tselector: '[data-tour=\"gdPub__tooltip\"]',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tEste apartado le permite <strong>utilizar diferentes formatos</strong> para poder estilizar los diferentes textos del contenido de la publicación.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t},\n    {\n\t\t\tselector: '[data-tour=\"gdPub__content\"]',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tEste campo le permite <strong>cambiar el contenido</strong> a utilizar en la publicación.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t},\n    {\n\t\t\tselector: '',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tEl <strong>resto de los campos son opcionales</strong>, con ellos puede realizar diversas acciones para terminar de completar su publicación.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tselector: '',\n\t\t\tcontent: () => (\n\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\tCon esto finaliza esta guía, navegue entre otras partes del sistema para encontrar más guías.\n\t\t\t\t</Typography>\n\t\t\t),\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t},\n\t\t}\n\t];\n\t\n\treturn (\n\t\t<TourComponent select='publicaciones_create' steps={steps} />\n\t);\n}","import React, { useState } from \"react\";\n\n// Router\nimport { useNavigate } from \"react-router-dom\";\n\n// MUI\nimport { Box, Container, Grid, IconButton, Tooltip } from \"@mui/material\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\n\n// Form\nimport { useForm, FormProvider } from \"react-hook-form\";\n\n// Components\nimport MakePost from \"./MakePost\";\nimport ShowPreview from \"./ShowPreview\";\nimport useNotifier from \"../../../../hooks/useNotifier\";\nimport TourCrearPub from \"./TourCrearPub\";\n\n// Redux\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createPost } from \"../../../../store/slices/requestStatus/async_trunk/publicaciones/createPost\";\n\nconst classes = {\n  container: {\n    flexGrow: 1,\n    paddingBottom: 6,\n    marginTop: { xs: \"80px\", sm: 12 },\n  },\n};\n\nexport default function PUBLCrear() {\n  const [preview, setPreview] = useState(false);\n  useNotifier();\n\n  const { loading, count_notify } = useSelector(state => ({\n    loading: state.requestStatus.createPost.loading,\n    count_notify: state.auth.notify.count,\n  }));\n  const dispatch = useDispatch();\n\n  // NOTA(RECKER): Title\n  document.title = count_notify > 0 ? `(${count_notify}) Crear publicaciones - La Candelaria` : 'Crear publicaciones - La Candelaria';\n\n  const navigate = useNavigate();\n\n  const methods = useForm();\n\n  const handlePreview = () => {\n    setPreview((value) => !value);\n  };\n\n  const handleReturn = () => {\n    if (window.history.state && window.history.state.idx > 0) {\n      navigate(-1);\n    } else {\n      navigate(\"/gedure/publicaciones\");\n    }\n  };\n\n  const onSubmit = (submitData) => {\n    // FormData\n\t\tconst formData = new FormData();\n\t\tformData.append('title', submitData.title);\n\t\tformData.append('content', submitData.markdown);\n\t\tformData.append('only_users', submitData.only_users);\n\t\tsubmitData.portada[0] && formData.append('portada', submitData.portada[0]);\n\t\tsubmitData.galery?.length && submitData.galery.forEach(img => {\n\t\t\tformData.append('galery[]', img);\n\t\t});\n\n    dispatch(createPost({submitData: formData, reset: methods.reset}));\n  };\n\n  return (\n    <Box component=\"main\" sx={classes.container}>\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)} autoComplete=\"off\">\n          <Container>\n            <Box mb={3}>\n              <Grid container justifyContent=\"space-between\">\n                <Tooltip title=\"Volver\" arrow>\n                  <IconButton\n                    disabled={loading}\n                    onClick={handleReturn}\n                    aria-label=\"return\"\n                  >\n                    <ArrowBackIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={preview ? \"Editar\" : \"Visualizar\"} arrow>\n                  <IconButton\n                    disabled={loading}\n                    onClick={methods.handleSubmit(handlePreview)}\n                    aria-label=\"preview\"\n                    data-tour=\"gdPub__preview\"\n                  >\n                    {preview ? <EditIcon /> : <VisibilityIcon />}\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n            </Box>\n          {!preview && <MakePost />}\n          </Container>\n          {preview && <ShowPreview />}\n        </form>\n      </FormProvider>\n      <TourCrearPub />\n    </Box>\n  );\n}\n"],"names":["MakePost","useFormContext","control","register","watch","useSelector","state","requestStatus","createPost","loading","progress","Paper","className","elevation","Grid","container","spacing","item","xs","Typography","variant","align","rules","required","minLength","value","message","maxLength","name","label","helperText","size","fullWidth","defaultValue","disabled","MarkDown","accept","style","display","id","type","htmlFor","Button","color","component","disableElevation","length","ml","fontSize","DropAreaGalery","justifyContent","LoadingButton","loadingIndicator","TourCrearPub","theme","useTheme","steps","selector","content","goTo","onClick","backgroundColor","palette","background","paper","TourComponent","select","classes","flexGrow","paddingBottom","marginTop","sm","PUBLCrear","useState","preview","setPreview","useNotifier","count_notify","auth","notify","count","dispatch","useDispatch","document","title","navigate","useNavigate","methods","useForm","Box","sx","onSubmit","handleSubmit","submitData","formData","FormData","append","markdown","only_users","portada","galery","forEach","img","reset","autoComplete","Container","mb","Tooltip","arrow","IconButton","window","history","idx","ArrowBack","Edit","Visibility","ShowPreview"],"sourceRoot":""}
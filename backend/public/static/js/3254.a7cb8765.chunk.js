"use strict";(self.webpackChunkfrontend_la_candelaria=self.webpackChunkfrontend_la_candelaria||[]).push([[3254],{76429:function(e,n,t){var r=t(1413),o=t(72791),a=t(32232),i=t(80184),s=o.forwardRef((function(e,n){return(0,i.jsx)(a.Z,(0,r.Z)({direction:"up",ref:n},e))}));n.Z=s},39481:function(e,n,t){t.d(n,{Z:function(){return Z}});t(72791);var r=t(58195),o=t(40464),a=t(8440),i=t(39571),s=t(77248),c=t(61091),l=t(52797),d=t(74142),u=t(76429),f=t(59434),h=t(39709),v=t(80184);function Z(e){var n=e.rdx1,t=e.rdx2,Z=e.close,x=e.request,p=e.children,m=(0,f.v9)((function(e){return e[n][t]})),g=m.open,j=m.loading,b=m.data,C=(0,f.I0)(),w=(0,d.Z)(),M=(0,l.Z)(w.breakpoints.down("md"));return(0,v.jsxs)(r.Z,{open:g,TransitionComponent:u.Z,fullScreen:M,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,v.jsx)(o.Z,{children:"\xbfEst\xe1 seguro?"}),(0,v.jsx)(a.Z,{children:(0,v.jsx)(i.Z,{id:"confirm-dialog-description",children:p(b)})}),(0,v.jsxs)(s.Z,{children:[(0,v.jsx)(c.Z,{disabled:j,onClick:function(){C(Z)},color:"inherit",children:"Cancelar"}),(0,v.jsx)(h.Z,{onClick:function(){C(x(b))},loading:j,color:"inherit",children:"Confirmar"})]})]})}},22604:function(e,n,t){function r(e){if("string"===typeof e){var n=e.substring(1,2),t=e.substring(0,1);return"".concat(t,"G"===n?" grado":" a\xf1o")}}t.d(n,{Z:function(){return r}})},81075:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(72791),o=t(86951),a=t(59434),i=t(80064),s=t(5016);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.messageTo200,t=void 0===n||n,c=e.messageTo400,l=void 0===c||c,d=e.message400,u=void 0!==d&&d,f=e.messageTo404,h=void 0===f||f,v=e.message404,Z=void 0===v?"Ruta URL no encontrada":v,x=e.messageTo422,p=void 0===x||x,m=e.message422,g=void 0===m?"Error al verificar los datos":m,j=(0,o.Ds)(),b=j.enqueueSnackbar,C=(0,a.v9)((function(e){return e.notistack})),w=C.notiText,M=C.notiStatus,S=C.notiVariant,y=(0,a.I0)();(0,r.useEffect)((function(){return 200===M||201===M?t&&b(w,{variant:S}):400===M?l&&b(u||w,{variant:"warning"}):401===M?(b("Sesi\xf3n expirada",{variant:"info"}),y((0,s.Rg)())):403===M?b("No tienes permisos para esta acci\xf3n",{variant:"error"}):404===M?h&&b(w||Z,{variant:"warning"}):422===M?p&&b(g,{variant:"error"}):429===M?(b("Demasiadas peticiones",{variant:"info"}),y((0,s.Rg)())):500===M?b("No se ha podido conectar con la base de datos",{variant:"error"}):"offline"===M&&b("Revise su conexi\xf3n a internet",{variant:"error"}),function(){y((0,i.ZN)())}}),[w,M,S,y,b,t,l,u,h,Z,p,g])}},63254:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(1413),o=t(72791),a=t(57689),i=t(50228),s=t(20803),c=t(45953),l=t(75814),d=t(13811),u=t(96580),f=t(67394),h=t(43950),v=t(29439),Z=t(30286),x=t(39709),p=t(89885),m=t(73518),g=t(60383),j=t(31770),b=t(22604),C=t(59434),w=t(6728),M=t(34663),S=t(80184),y=["#2f80ED","#219653","#f2994A","#9B51E0","#EB5757","#c1c1c1"];function L(e){var n,t=e.id,r=e.lapso,a=e.fecha_humano,s=e.fecha_humano_modify,d=e.curso,u=e.created_at,f=e.updated_at,h=(0,o.useState)((n=y.length-1,Math.floor(Math.random()*Math.floor(n+1)))),L=(0,v.Z)(h,1)[0],z=(0,o.useState)(!1),B=(0,v.Z)(z,2),k=B[0],H=B[1],T=(0,C.v9)((function(e){return{progress:e.requestStatus.verBoletas.progress,administrar:e.auth.permissions.administrar}})),V=T.progress,_=T.administrar,I=_.boletas_edit,R=_.boletas_destroy,D=(0,C.I0)();return(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,S.jsx)(Z.Z,{elevation:0,className:"paper--padding",children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsxs)(c.ZP,{container:!0,item:!0,xs:12,children:[(0,S.jsx)(c.ZP,{item:!0,xs:2,sm:3,md:3,children:(0,S.jsx)(p.Z,{style:{fontSize:60,color:y[L]}})}),(0,S.jsx)(c.ZP,{item:!0,xs:!0,children:(0,S.jsxs)(i.Z,{component:"span",style:{color:y[L]},fontSize:"h6.fontSize",fontWeight:600,children:[(0,b.Z)(d.curso)," ",d.seccion," - ",r,"\xb0 Lapso"]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(i.Z,{fontSize:"body1.fontSize",color:"text.disabled",fontWeight:600,children:u===f?"Subido ".concat(a?"":"el"," ").concat(a||u):"Modificado ".concat(s?"":"el"," ").concat(s||f)})})]}),(0,S.jsxs)(c.ZP,{container:!0,justifyContent:"flex-end",alignItems:"center",item:!0,xs:12,children:[(0,S.jsx)(l.Z,{title:"Eliminar",arrow:!0,children:(0,S.jsx)(x.Z,{onClick:function(){D((0,w.CI)({open:!0,data:{curso:d,lapso:r,id:t},select:"deleteBoleta"}))},disabled:!R,color:"inherit",children:(0,S.jsx)(g.Z,{})})}),(0,S.jsx)(l.Z,{title:"Reemplazar",arrow:!0,children:(0,S.jsx)(x.Z,{onClick:function(){D((0,w.CI)({open:!0,data:{curso:d.curso,seccion:d.seccion,lapso:r,id:t},select:"replaceBoleta"}))},disabled:!I,color:"inherit",children:(0,S.jsx)(j.Z,{})})}),(0,S.jsx)(l.Z,{title:"Descargar",arrow:!0,children:(0,S.jsx)(x.Z,{loading:k,loadingIndicator:k&&V<99?"".concat(V,"%"):null,onClick:function(){H(!0),D((0,M.b)({id:t,curso:d,lapso:r,setLoading:H}))},color:"inherit",children:(0,S.jsx)(m.Z,{})})})]})]})})})}var z=t(81075),B=t(39481),k=t(58195),H=t(40464),T=t(8440),V=t(39571),_=t(61091),I=t(4565),R=t(77248),D=t(61134),P=t(76429),E=t(17621);function N(){var e,n=(0,C.v9)((function(e){return e.requestStatus.replaceBoleta})),t=n.open,o=n.loading,a=n.progress,s=n.data,l=(0,C.I0)(),d=(0,D.cI)({mode:"onTouched",shouldUnregister:!0}),u=d.handleSubmit,f=d.register,h=d.watch,v=d.formState.errors;return(0,S.jsxs)(k.Z,{open:t,TransitionComponent:P.Z,children:[(0,S.jsx)(H.Z,{children:"Reemplazar boleta"}),(0,S.jsx)(T.Z,{children:(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(V.Z,{children:["Est\xe1 a punto de reemplazar la boleta ",(0,S.jsxs)("strong",{children:[s.curso," ",s.seccion," ",s.lapso,"\xb0 Lapso"]}),". Tenga en cuenta que al reemplazar la boleta se borrar\xe1 la anterior."]})}),(0,S.jsxs)(c.ZP,{container:!0,alignItems:"center",item:!0,xs:12,children:[(0,S.jsx)("input",(0,r.Z)((0,r.Z)({id:"boleta-upload-file"},f("boleta",{required:"* Debe subir un archivo"})),{},{defaultValue:null,style:{display:"none"},accept:"application/pdf",type:"file"})),(0,S.jsx)("label",{htmlFor:"boleta-upload-file",children:(0,S.jsx)(_.Z,{variant:"contained",color:Boolean(v.boleta)?"error":"secondary",component:"span",children:"Cargar archivo"})}),Boolean(v.boleta)&&(0,S.jsx)(i.Z,{ml:2,color:"#f44336",children:(0,S.jsx)(I.Z,{children:v.boleta.message})}),0!==((null===(e=h("boleta"))||void 0===e?void 0:e.length)||[]).length&&(0,S.jsx)(i.Z,{ml:2,children:(0,S.jsx)(I.Z,{children:"Archivo cargado"})})]})]})}),(0,S.jsxs)(R.Z,{children:[(0,S.jsx)(_.Z,{disabled:o,onClick:function(){l((0,w.CI)({open:!1,data:{},select:"replaceBoleta"}))},color:"inherit",children:"Cancelar"}),(0,S.jsx)(x.Z,{onClick:u((function(e){var n=new FormData;n.append("boleta",e.boleta[0]),n.append("_method","PUT"),l((0,E.s)({id:s.id,submitData:n}))})),loading:o,loadingIndicator:o&&a<99?"".concat(a,"%"):null,variant:"text",color:"inherit",children:"Cargar"})]})]})}var q=t(3005),A=t(75151),F={container:{flexGrow:1,paddingBottom:6,marginTop:{xs:"80px",sm:12}}};function U(){var e,n,t=(0,a.UO)().id;(0,z.Z)();var v=(0,C.v9)((function(e){return{loading:e.requestStatus.verBoletas.loading,data:e.requestStatus.verBoletas.data,count_notify:e.auth.notify.count}})),Z=v.loading,x=v.data,p=v.count_notify,m=(0,C.I0)();document.title=p>0?"(".concat(p,") Boletas - La Candelaria"):"Boletas - La Candelaria";var g=(0,a.s0)(),j=function(){m((0,w.CI)({loading:!0,select:"verBoletas"}))};return(0,o.useEffect)((function(){Z&&m((0,A.z)(t))}),[Z]),(0,o.useEffect)((function(){return function(){m((0,w.CI)({loading:!0,select:"verBoletas"}))}}),[]),(0,S.jsx)(i.Z,{component:"main",sx:F.container,children:(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(i.Z,{mb:3,children:(0,S.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",children:[(0,S.jsx)(l.Z,{title:"Volver",arrow:!0,children:(0,S.jsx)(d.Z,{disabled:Z,onClick:function(){g("/gedure/boletas")},"aria-label":"return",component:"span",children:(0,S.jsx)(f.Z,{})})}),(0,S.jsx)(l.Z,{title:"Recargar",arrow:!0,children:(0,S.jsx)(d.Z,{disabled:Z,onClick:j,"aria-label":"return",component:"span",children:(0,S.jsx)(h.Z,{})})})]})}),Z&&(0,S.jsx)(i.Z,{textAlign:"center",children:(0,S.jsx)(u.Z,{})}),!Z&&null!==(e=x.boletas)&&void 0!==e&&e.length?(0,S.jsxs)(o.Fragment,{children:[(0,S.jsxs)(i.Z,{fontSize:"h4.fontSize",mb:3,className:"text__bold--big",children:["Boletas subidas de ",x.user]}),(0,S.jsx)(c.ZP,{container:!0,spacing:2,children:x.boletas.map((function(e,n){return(0,S.jsx)(L,(0,r.Z)({},e),n)}))})]}):null,!Z&&!(null!==(n=x.boletas)&&void 0!==n&&n.length)&&(0,S.jsx)(i.Z,{textAlign:"center",fontSize:"body1.fontSize",children:"No hay boletas cargadas para este estudiante."}),(0,S.jsx)(B.Z,{rdx1:"requestStatus",rdx2:"deleteBoleta",close:(0,w.CI)({open:!1,data:{},select:"deleteBoleta"}),request:function(e){return(0,q.Y)({submitData:e,refresh:j})},children:function(e){var n,t;return(0,S.jsxs)("span",{children:["Est\xe1 a punto de eliminar la boleta ",(0,S.jsxs)("strong",{children:[(0,b.Z)(null===(n=e.curso)||void 0===n?void 0:n.curso)," ",null===(t=e.curso)||void 0===t?void 0:t.seccion," - ",e.lapso,"\xb0 Lapso"]})," de ",(0,S.jsx)("strong",{children:x.user}),". Tenga en cuenta que esta acci\xf3n no se puede deshacer."]})}}),(0,S.jsx)(N,{})]})})}},67394:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");n.Z=i},60383:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");n.Z=i},73518:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");n.Z=i},43950:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45649)),a=t(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");n.Z=i},39571:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(63366),o=t(87462),a=t(72791),i=t(28182),s=t(94419),c=t(60277),l=t(85513),d=t(4565),u=t(75878),f=t(21217);function h(e){return(0,f.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var v=t(80184),Z=["children","className"],x=(0,c.ZP)(d.Z,{shouldForwardProp:function(e){return(0,c.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),p=a.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogContentText"}),a=t.className,c=(0,r.Z)(t,Z),d=function(e){var n=e.classes,t=(0,s.Z)({root:["root"]},h,n);return(0,o.Z)({},n,t)}(c);return(0,v.jsx)(x,(0,o.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:c,className:(0,i.Z)(d.root,a)},t,{classes:d}))}))},40464:function(e,n,t){var r=t(87462),o=t(63366),a=t(72791),i=t(28182),s=t(94419),c=t(4565),l=t(60277),d=t(85513),u=t(5186),f=t(43053),h=t(80184),v=["className","id"],Z=(0,l.ZP)(c.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),x=a.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiDialogTitle"}),c=t.className,l=t.id,x=(0,o.Z)(t,v),p=t,m=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},u.a,n)}(p),g=a.useContext(f.Z).titleId,j=void 0===g?l:g;return(0,h.jsx)(Z,(0,r.Z)({component:"h2",className:(0,i.Z)(m.root,c),ownerState:p,ref:n,variant:"h6",id:j},x))}));n.Z=x},52797:function(e,n,t){var r;t.d(n,{Z:function(){return f}});var o=t(29439),a=t(72791),i=t(69120),s=t(33073),c=t(93026);function l(e,n,t,r,i){var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=a.useState((function(){return i&&s?t(e).matches:r?r(e).matches:n})),d=(0,o.Z)(l,2),u=d[0],f=d[1];return(0,c.Z)((function(){var n=!0;if(s){var r=t(e),o=function(){n&&f(r.matches)};return o(),r.addListener(o),function(){n=!1,r.removeListener(o)}}}),[e,t,s]),u}var d=(r||(r=t.t(a,2))).useSyncExternalStore;function u(e,n,t,r){var i=a.useCallback((function(){return n}),[n]),s=a.useMemo((function(){if(null!==r){var n=r(e).matches;return function(){return n}}return i}),[i,e,r]),c=a.useMemo((function(){if(null===t)return[i,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[i,t,e]),l=(0,o.Z)(c,2),u=l[0],f=l[1];return d(f,u,s)}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,i.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,o=(0,s.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),a=o.defaultMatches,c=void 0!==a&&a,f=o.matchMedia,h=void 0===f?r?window.matchMedia:null:f,v=o.ssrMatchMedia,Z=void 0===v?null:v,x=o.noSsr;var p="function"===typeof e?e(t):e;p=p.replace(/^@media( ?)/m,"");var m=void 0!==d?u:l,g=m(p,c,h,Z,x);return g}},31770:function(e,n,t){var r;n.Z=void 0;var o=(0,((r=t(71669))&&r.__esModule?r:{default:r}).default)("M14,3L12,1H4A2,2 0 0,0 2,3V15A2,2 0 0,0 4,17H11V19L15,16L11,13V15H4V3H14M21,10V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19V12H14V7H8V13H6V7A2,2 0 0,1 8,5H16L21,10Z","FileReplaceOutline");n.Z=o}}]);
//# sourceMappingURL=3254.a7cb8765.chunk.js.map
(this["webpackJsonpfrontend-la-candelaria"]=this["webpackJsonpfrontend-la-candelaria"]||[]).push([[57],{1320:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P}));var n=a(56),r=a.n(n),c=a(68),i=a(0),o=a(241),s=a(108),u=a(680),d=a(36),l=a(463),f=a.n(l),b=a(678),j=a.n(b),O=a(1265),p=a.n(O),g=a(502),m=a.n(g),v=a(596),x=a.n(v),h=a(585),y=a(14),C=a(330),w=a(1);function R(e){var t,a,n=e.tableRef,l=Object(y.d)((function(e){return{permissions:e.userData.permissions}})).permissions,b=Object(i.useState)(!1),O=Object(d.a)(b,2),g=O[0],v=O[1],R=Object(i.useState)(5),k=Object(d.a)(R,2),P=k[0],S=k[1],E=Object(y.c)(),T=Object(s.a)().fetchData,A=Object(i.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"v1/user-disabled?page=".concat(t.page,"&per_page=").concat(t.pageSize,"&search=").concat(encodeURI(t.search)),type:"get",messageToFinish:!1},e.next=3,T(a);case 3:if(!(c=e.sent)){e.next=11;break}if(0!==c.data.length||0===c.page){e.next=8;break}return n.current&&n.current.onQueryChange(),e.abrupt("return",{data:[],page:0,totalCount:0});case 8:return e.abrupt("return",{data:c.data,page:c.page,totalCount:c.totalRows});case 11:return e.abrupt("return",{data:[],page:0,totalCount:0});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(w.jsx)(o.a,{item:!0,xs:12,children:Object(w.jsx)(f.a,{tableRef:n,title:"Usuarios desactivados",icons:h.a,localization:h.b,data:A,onChangeRowsPerPage:function(e){return S(e)},columns:[{title:"Usuario",field:"code",render:function(e){return"".concat(e.privilegio).concat(e.username)}},{title:"Nombre",field:"name"},{title:"Correo",field:"email"}],actions:[{icon:function(){return Object(w.jsx)(j.a,{})},tooltip:"Opciones masivas",isFreeAction:!0,onClick:function(){return v((function(e){return!e}))}},{icon:function(){return Object(w.jsx)(x.a,{})},tooltip:"Recargar",isFreeAction:!0,onClick:function(e,t){n.current&&n.current.onQueryChange()}},{icon:function(){return Object(w.jsx)(p.a,{})},tooltip:"Reactivar cuenta",disabled:!(null===l||void 0===l||null===(t=l.gedure)||void 0===t?void 0:t.users_disabled_restore),onClick:function(e,t){if(g){var a,n=0,r=[],c=Object(u.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;r[n]=i.id,n++}}catch(s){c.e(s)}finally{c.f()}E(Object(C.a)("deleteConfirmation",!0,!1,{massive:!0,ids:r,type:"restore"}))}else{var o={id:t.id,username:t.username,type:"restore"};E(Object(C.a)("deleteConfirmation",!0,!1,o))}}},{icon:function(){return Object(w.jsx)(m.a,{})},tooltip:"Eliminar cuenta",disabled:!(null===l||void 0===l||null===(a=l.gedure)||void 0===a?void 0:a.users_disabled_destroy),onClick:function(e,t){if(g){var a,n=0,r=[],c=Object(u.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;r[n]=i.id,n++}}catch(s){c.e(s)}finally{c.f()}E(Object(C.a)("deleteConfirmation",!0,!1,{massive:!0,ids:r,type:"destroy"}))}else{var o={id:t.id,username:t.username,type:"destroy"};E(Object(C.a)("deleteConfirmation",!0,!1,o))}}}],options:{sorting:!1,draggable:!1,actionsColumnIndex:-1,selection:g,pageSize:P}})})}var k=a(532);function P(){var e,t,a=Object(i.useRef)(null),n=Object(y.d)((function(e){return{data:e.dialogs.deleteConfirmation.data}})).data,u=Object(y.c)(),d=Object(s.a)().fetchData,l=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/restore/".concat(n.id),type:"post",data:{_method:"PATCH"},message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(C.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/restore?ids=".concat(encodeURI(JSON.stringify(n.ids))),type:"post",data:{_method:"PATCH"},message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(C.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled/".concat(n.id),type:"delete",message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(C.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"v1/user-disabled?ids=".concat(encodeURI(JSON.stringify(n.ids))),type:"delete",message404:"El usuario ya no existe"},e.next=3,d(c);case 3:e.sent&&a.current&&a.current.onQueryChange(),u(Object(C.a)("deleteConfirmation",!1,!0)),t();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(o.a,{container:!0,spacing:2,children:[Object(w.jsx)(R,{tableRef:a}),"restore"===n.type&&!n.massive&&Object(w.jsxs)(k.a,{callback:l,children:["Est\xe1 a punto de restaurar al usuario ",Object(w.jsx)("strong",{children:n.username}),". Tenga en cuenta que si reactiva a un estudiante el mismo no se le asignar\xe1 un curso."]}),"restore"===n.type&&n.massive&&Object(w.jsxs)(k.a,{callback:f,children:["Est\xe1 a punto de restaurar ",Object(w.jsx)("strong",{children:null===(e=n.ids)||void 0===e?void 0:e.length})," usuarios. Tenga en cuenta que si reactiva a un estudiante el mismo no se le asignar\xe1 un curso."]}),"destroy"===n.type&&!n.massive&&Object(w.jsxs)(k.a,{callback:b,children:["Est\xe1 a punto de eliminar permanentemente al usuario ",Object(w.jsx)("strong",{children:n.username}),". Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]}),"destroy"===n.type&&n.massive&&Object(w.jsxs)(k.a,{callback:j,children:["Est\xe1 a punto de eliminar permanentemente ",Object(w.jsx)("strong",{children:null===(t=n.ids)||void 0===t?void 0:t.length})," usuarios. Esta acci\xf3n es irreversible, una vez fuera del sistema no podr\xe1 recuperar los datos."]})]})}},330:function(e,t,a){"use strict";t.a=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOGS_DATA",payload:{dialog:e,open:t,loading:a,data:n}}}},389:function(e,t,a){"use strict";var n=a(7),r=a(0),c=a.n(r),i=a(146),o=a(1),s=c.a.forwardRef((function(e,t){return Object(o.jsx)(i.a,Object(n.a)({direction:"up",ref:t},e))}));t.a=s},532:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a(0);var n=a(987),r=a(682),c=a(988),i=a(701),o=a(989),s=a(233),u=a(389),d=a(14),l=a(330),f=a(1);function b(e){var t=e.callback,a=e.dialog,b=void 0===a?"deleteConfirmation":a,j=e.children,O=Object(d.d)((function(e){return{open:e.dialogs[b].open,loading:e.dialogs[b].loading}})),p=O.open,g=O.loading,m=Object(d.c)(),v=function(){m(Object(l.a)(b,!1,!0))};return Object(f.jsxs)(n.a,{open:p,TransitionComponent:u.a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[Object(f.jsx)(r.a,{id:"confirm-dialog-title",children:"\xbfSeguro?"}),Object(f.jsx)(c.a,{children:Object(f.jsx)(i.a,{id:"confirm-dialog-description",children:j})}),Object(f.jsxs)(o.a,{children:[Object(f.jsx)(s.a,{disabled:g,onClick:v,children:"Cancelar"}),Object(f.jsx)(s.a,{disabled:g,onClick:function(){m(Object(l.a)(b,!0,!0)),t(v)},children:"Confirmar"})]})]})}},585:function(e,t,a){"use strict";a.d(t,"b",(function(){return z})),a.d(t,"a",(function(){return F}));var n=a(7),r=a(0),c=a(586),i=a.n(c),o=a(593),s=a.n(o),u=a(587),d=a.n(u),l=a(599),f=a.n(l),b=a(600),j=a.n(b),O=a(588),p=a.n(O),g=a(589),m=a.n(g),v=a(490),x=a.n(v),h=a(506),y=a.n(h),C=a(591),w=a.n(C),R=a(592),k=a.n(R),P=a(594),S=a.n(P),E=a(590),T=a.n(E),A=a(509),D=a.n(A),_=a(595),Q=a.n(_),U=a(1),z={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar",nRowsSelected:"{0} fila(s) marcadas"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}},F={Add:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(d.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(m.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(j.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(x.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(T.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(y.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(w.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(k.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(j.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(f.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(D.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(s.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(S.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(U.jsx)(Q.a,Object(n.a)(Object(n.a)({},e),{},{ref:t}))}))}}}]);
//# sourceMappingURL=57.901718a4.chunk.js.map